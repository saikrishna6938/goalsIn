"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[5259],{95259:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var r=n(29439),a=n(72791),i=n(697),o=n(1413),s=n(45987),l=n(61819),c=n(15861),u=n(20890),d=n(5289),p=n(65661),f=n(39157),x=n(97123),h=n(21524),m=n(87045),b=n(93268),v=n(53673),Z=n(74153),y=n(26727),g=n(92271),j=n(18740),w=n(80184),k=function(e){var t=e.entity,n=e.reloadEntities,s=(0,a.useState)([]),u=(0,r.Z)(s,2),d=u[0],p=u[1],f={documentTypeDescription:"",documentTypeName:"",documentTypeObjectId:1,documentGroupId:4,documentTypeTableId:13,documentTypeRoles:"",enabled:0,tableName:""},x=(0,o.Z)((0,o.Z)({},f),t),m=[{name:"documentTypeName",label:"Name",type:"string"},{name:"enabled",label:"Enabled",type:"dropdown",selections:[{id:0,name:"No"},{id:1,name:"Yes"}]},{name:"documentTypeDescription",label:"Description",type:"textArea",column:1},{name:"documentGroupId",label:"Document Group",type:"dropdown",selections:[{id:4,name:"United States"},{id:7,name:"United Kingdom"},{id:8,name:"Germany"}]},{name:"documentTypeTableId",label:"Document Data",type:"dropdown",selections:d}];(0,a.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){var t,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.h.get("administrator/data-tables");case 3:t=e.sent,n=t.data.map((function(e){return{id:e.tableId,name:e.tableName}})),p(n),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var b=y.Ry({documentTypeDescription:y.Z_().required("Description is required"),documentTypeName:y.Z_().required("Name is required"),enabled:y.nK().oneOf([0,1]).required("Enabled is required")}),v=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(r){var a,i,s,c,u,d,p,b,v,y;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i="administrator/document-types",s="administrator/document-types/".concat(null===t||void 0===t?void 0:t.id),c=!!r.id,u=m.find((function(e){return"documentTypeTableId"===e.name})),d=null===u||void 0===u||null===(a=u.selections)||void 0===a?void 0:a.find((function(e){return e.id===r.documentTypeTableId})),p=(0,o.Z)((0,o.Z)({},r),{},{tableName:null===d||void 0===d?void 0:d.name}),b=c?Z(x,p):(0,o.Z)((0,o.Z)({},f),p),v=Z(x,r),0!==Object.keys(v).length){e.next=11;break}return g.Z.showToast("No changes made to update.","info"),e.abrupt("return");case 11:if(e.prev=11,!c){e.next=18;break}return e.next=15,h.h.put(s,{body:b});case 15:e.t0=e.sent,e.next=21;break;case 18:return e.next=20,h.h.post(i,{body:b});case 20:e.t0=e.sent;case 21:y=e.t0,g.Z.showToast(y.message,"success"),null===n||void 0===n||n(),e.next=30;break;case 26:e.prev=26,e.t1=e.catch(11),console.error("Error while saving document type:",e.t1),g.Z.showToast("Something went wrong. Please try again.","error");case 30:case"end":return e.stop()}}),e,null,[[11,26]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(e,t){return Object.entries(t).reduce((function(t,n){var a=(0,r.Z)(n,2),i=a[0],o=a[1];return o!==e[i]&&(t[i]=o),t}),{})};return(0,w.jsx)(i.Z,{display:"flex",flexDirection:"column",sx:{height:"100%",backgroundColor:"white",mt:"5px"},children:(0,w.jsx)(j.Z,{fields:m,initialValues:x,validationSchema:b,onSubmit:v,columns:2,showSaveButton:!0,readOnly:!1,showHeaderComponent:!1})})},T=n(58833),C=n(99490),D=n(60666),S=n(96873),I=n(93838),N=["documentTypeId"],E=[{id:"id",label:"Id",type:"number"},{id:"documentTypeName",label:"Name",type:"string"},{id:"documentGroupName",label:"Group Name",type:"string"},{id:"tableName",label:"Table Name",type:"string"},{id:"enabled",label:"Enabled",type:"number"}],q=function(){var e=(0,a.useState)(0),t=(0,r.Z)(e,2),n=t[0],y=t[1],j=(0,a.useState)([]),q=(0,r.Z)(j,2),R=q[0],B=q[1],_=(0,a.useState)(null),H=(0,r.Z)(_,2),O=H[0],A=H[1],W=(0,a.useState)(!1),z=(0,r.Z)(W,2),G=z[0],V=z[1],F=(0,a.useState)(!1),P=(0,r.Z)(F,2),L=P[0],U=P[1],Y=(0,a.useState)([]),K=(0,r.Z)(Y,2),M=K[0],J=K[1],Q=(0,a.useState)([]),X=(0,r.Z)(Q,2),$=X[0],ee=X[1];(0,a.useEffect)((function(){ne()}),[]),(0,a.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.h.get("administrator/roles/names/get");case 3:t=e.sent,J(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,a.useEffect)((function(){null!==O&&void 0!==O&&O.id&&te()}),[null===O||void 0===O?void 0:O.id]);var te=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){var t,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.h.get("administrator/document-type-roles/".concat(O.id));case 3:t=e.sent,n=null===t||void 0===t?void 0:t.rows,ee(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){var t,n,r,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.h.get("administrator/document-types");case 3:if(t=e.sent,n=t.map((function(e){var t=e.documentTypeId,n=(0,s.Z)(e,N);return(0,o.Z)({id:t},n)})),B(n),!(r=null===O||void 0===O?void 0:O.id)){e.next=12;break}if(!(a=n.find((function(e){return e.id===r})))){e.next=12;break}return A(a),e.abrupt("return");case 12:A(n[0]),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error fetching document types:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t,n){var r,a,i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(null===t||void 0===t?void 0:t.map((function(e){return{documentTypeId:null===O||void 0===O?void 0:O.id,roleNameId:e.roleNameId,documentSecurity:1}})))||[],a={roleIds:(null===n||void 0===n?void 0:n.map((function(e){return e.roleNameId})))||[],documentTypeId:null===O||void 0===O?void 0:O.id},e.prev=2,0!==r.length||0!==a.roleIds.length){e.next=6;break}return g.Z.showToast("No changes to submit.","error"),e.abrupt("return");case 6:if(!(r.length>0)){e.next=11;break}return e.next=9,h.h.post("administrator/document-type-roles",{body:r});case 9:i=e.sent,g.Z.showToast(i.message,"success");case 11:if(!(a.roleIds.length>0)){e.next=16;break}return e.next=14,h.h.delete("administrator/document-type-roles",{body:a});case 14:o=e.sent,g.Z.showToast(o.message,"success");case 16:return e.next=18,te();case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),console.error("Error submitting role changes:",e.t0);case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(!1),e.prev=1,e.next=4,h.h.delete("administrator/document-types/".concat(O.id));case 4:if(!(e.sent.message.length>0)){e.next=8;break}return e.next=8,ne();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error deleting document type:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)("div",{style:{backgroundColor:"#ffffff",height:"calc(100vh - 95px)",maxHeight:"100%",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(i.Z,{sx:{width:"100%",borderRadius:"4px",height:"100%"},children:(0,w.jsx)(i.Z,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"1px solid #ccc"},children:(0,w.jsx)(v.P,{left:(0,w.jsxs)("div",{style:{paddingRight:"5px",height:"100%",display:"flex",flexDirection:"column"},children:[(0,w.jsx)(m._u,{style:{height:"60px"},children:(0,w.jsx)(m.vD,{children:(0,w.jsx)(u.Z,{variant:"overline",sx:{fontSize:15,ml:"16px"},children:"Document Management"})})}),(0,w.jsx)(i.Z,{sx:{flex:1,overflow:"hidden"},children:(0,w.jsx)(b.Z,{tasks:R,columns:E,onSelection:function(e){if(null!==e){var t=R.find((function(t){return t.id===e}));A(t)}else U(!1)},resetSelectionRowId:L,defaultHeight:"100%",filterComponent:(0,w.jsx)(T.Z,{categories:["Create Document","Delete Document"],onButtonClick:function(e){switch(e){case"Create Document":A({}),y(0),U(!0);break;case"Delete Document":O&&V(!0);break;default:console.log("Invalid Option")}}})})})]}),right:(0,w.jsxs)("div",{style:{marginRight:"5px",height:"100%",display:"flex",flexDirection:"column",marginLeft:"4px"},children:[(0,w.jsx)(Z.Z,{value:n,onChange:function(e,t){y(t)},tabs:["Properties","Roles"]}),(0,w.jsx)(i.Z,{sx:{height:"100%",overflow:"hidden",mt:"5px"},children:function(e){switch(e){case 0:return(0,w.jsx)(k,{entity:O,reloadEntities:ne});case 1:return(0,w.jsx)(D.Z,{leftSideRoles:M,rightSideRoles:$,currentObjId:null===O||void 0===O?void 0:O.id,onSubmit:re,userInfoComponent:(0,w.jsx)(I.Gy,{children:(0,w.jsxs)(I.ot,{children:[(0,w.jsx)(u.Z,{variant:"h6",sx:{color:S.q.UH_text3},children:null===O||void 0===O?void 0:O.documentTypeDescription}),(0,w.jsx)(u.Z,{variant:"body2",sx:{color:S.q.UH_text3},children:null===O||void 0===O?void 0:O.documentGroupName})]})}),filterType:1});default:return null}}(n)})]})})})}),(0,w.jsxs)(d.Z,{open:G,onClose:function(){return V(!1)},maxWidth:"xs",fullWidth:!0,children:[(0,w.jsx)(p.Z,{children:"Confirm"}),(0,w.jsx)(f.Z,{children:(0,w.jsxs)(u.Z,{children:["Are you sure you want to delete document type"," ",(0,w.jsx)("strong",{children:(null===O||void 0===O?void 0:O.documentTypeName)||""}),"?"]})}),(0,w.jsxs)(x.Z,{children:[(0,w.jsx)(C.Z,{label:"Delete",btnType:"error",type:"button",onClick:ae}),(0,w.jsx)(C.Z,{label:"Cancel",btnType:"default",type:"button",onClick:function(){return V(!1)}})]})]})]})},R=n(50025),B=n(93006),_=n(4942),H=n(93433),O=n(94294),A=n(61889),W=n(23786),z=n(29823),G=[{id:"name",label:"Field Name",type:"string"},{id:"expression",label:"Expression",type:"string"},{id:"enabled",label:"Enabled",type:"number"}],V=[{name:"name",label:"Field Name",type:"text"},{name:"expression",label:"Expression",type:"dropDown",options:[{id:1,label:"Like"},{id:2,label:"Lesser"},{id:3,label:"Greater"},{id:4,label:"Equal"}]},{name:"isVisible",label:"Visible",type:"dropDown",options:[{id:0,label:"True"},{id:1,label:"False"}]},{name:"type",label:"Type",type:"dropDown",options:[{id:1,label:"Text"},{id:2,label:"Integer"},{id:3,label:"Varchar"},{id:4,label:"Date"}]}],F=[{name:"tableName",label:"Table Name",type:"string",column:1}],P=function(e){var t=e.currentObject,n=e.reloaddData,s=(0,a.useState)([]),m=(0,r.Z)(s,2),v=m[0],Z=m[1],k=(0,a.useState)(!1),T=(0,r.Z)(k,2),D=T[0],I=T[1],N=(0,a.useState)({}),E=(0,r.Z)(N,2),q=E[0],P=E[1],L=(0,a.useState)(!1),U=(0,r.Z)(L,2),Y=U[0],K=U[1],M=(0,a.useState)(),J=(0,r.Z)(M,2),Q=J[0],X=J[1],$=(0,a.useState)([]),ee=(0,r.Z)($,2),te=ee[0],ne=ee[1];(0,a.useEffect)((function(){if(null!==t&&void 0!==t&&t.fields&&Array.isArray(t.fields)){var e=t.fields.map((function(e,t){return(0,o.Z)((0,o.Z)({id:t},e),{},{enabled:e.isVisible?0:1})}));Z(e)}else Z([])}),[t]);var re=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(r){var a,i;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={tableName:r.tableName||(null===t||void 0===t?void 0:t.tableName)||"",fields:te},console.log("final pay load",a),e.prev=2,e.next=5,h.h.post("administrator/data-tables",{body:a});case 5:i=e.sent,g.Z.showToast(i.message,"success"),null===n||void 0===n||n(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),g.Z.showToast(e.t0,"error");case 13:ne([]);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){var t,n,r,a,i,o,s,c;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=null===(t=V.find((function(e){return"expression"===e.name})))||void 0===t?void 0:t.options.find((function(e){return e.id===q.expression})),s=null===(n=V.find((function(e){return"type"===e.name})))||void 0===n?void 0:n.options.find((function(e){return e.id===q.type})),c={name:null!==(r=q.name)&&void 0!==r?r:"",expression:null!==(a=null===o||void 0===o?void 0:o.label)&&void 0!==a?a:"",isVisible:Number(q.isVisible),type:null!==(i=null===s||void 0===s?void 0:s.label)&&void 0!==i?i:""},ne((function(e){return[].concat((0,H.Z)(e),[c])})),P({}),I(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(e){var t=e.target,n=t.name,r=t.value;P((0,o.Z)((0,o.Z)({},q),{},(0,_.Z)({},n,r)))},oe=function(){I(!1),P({})},se=[{buttons:[{label:"Delete",onClick:function(e){var t=v.find((function(t){return t.id===e}));X(t),K(!0)}}]}],le=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.h.delete("",{body:{actionId:t}});case 2:e.sent,K(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=(0,o.Z)((0,o.Z)({},{tableName:""}),t),ue=y.Ry({tableName:y.Z_().required("Table Name is required")});return(0,w.jsxs)(i.Z,{sx:{height:"100%",width:"100%"},children:[(0,w.jsx)(i.Z,{display:"flex",flexDirection:"column",sx:{height:"29%"},children:(0,w.jsx)(j.Z,{fields:F,initialValues:ce,validationSchema:ue,onSubmit:re,columns:2,showSaveButton:!0,readOnly:!1,showHeaderComponent:!1})}),(0,w.jsx)(i.Z,{sx:{height:"71%"},children:(0,w.jsx)(b.Z,{tasks:v,columns:G,defaultHeight:"100%",onSelection:function(e){var t=v.find((function(t){return t.id===e}));X(t)},buttons:se,showButton:!0,renderOptions:t&&0===Object.keys(t).length&&(0,w.jsx)(O.Z,{onClick:function(){return I(!0)},sx:{fontSize:"0.78rem",height:"2.2em",margin:"2px",mr:"20px",border:"1px solid ".concat(S.q.Button_bg3),backgroundColor:S.q.Button_bg3,color:S.q.Button2,"&:hover":{backgroundImage:S.q.B_hv3,backgroundColor:S.q.Button_bg3,border:"1px solid ".concat(S.q.Button_bg3)}},children:"Add New"})})}),(0,w.jsx)(R.Z,{open:D,onClose:oe,children:(0,w.jsxs)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,padding:"1em 2em 2em 2em",borderRadius:"8px",maxHeight:"90vh",maxWidth:"80vw",overflowY:"auto",display:"flex",flexDirection:"column"},children:[(0,w.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:"1em",position:"sticky",top:0,backgroundColor:"white",zIndex:1},children:[(0,w.jsx)(u.Z,{sx:{fontWeight:550,fontSize:"1.2em"},children:"Create New Data Table"}),(0,w.jsx)(z.Z,{onClick:oe,sx:{cursor:"pointer",fontSize:"1.5rem"}})]}),(0,w.jsx)(i.Z,{sx:{overflowY:"auto",maxHeight:"100%",paddingBottom:"2em",width:"100%"},children:(0,w.jsx)(A.ZP,{container:!0,spacing:2,children:V.map((function(e){var t;return(0,w.jsx)(A.ZP,{item:!0,xs:12,children:(0,w.jsx)(B.Z,{fullWidth:!0,name:e.name,label:e.label,value:null!==(t=q[e.name])&&void 0!==t?t:"",onChange:ie,variant:"standard",select:"dropDown"===e.type,children:"dropDown"===e.type&&e.options.map((function(e){return(0,w.jsx)(W.Z,{value:e.id,children:e.label},e.id)}))})},e.name)}))})}),(0,w.jsxs)(i.Z,{sx:{mt:1,display:"flex",justifyContent:"flex-end",gap:2,position:"sticky",bottom:0,backgroundColor:"white",zIndex:1},children:[(0,w.jsx)(C.Z,{label:"Cancel",btnType:"error",type:"button",onClick:oe}),(0,w.jsx)(C.Z,{label:"Submit",btnType:"default",type:"submit",onClick:ae})]})]})}),(0,w.jsxs)(d.Z,{open:Y,onClose:function(){return K(!1)},maxWidth:"xs",fullWidth:!0,children:[(0,w.jsx)(p.Z,{children:"Confirm"}),(0,w.jsx)(f.Z,{children:(0,w.jsxs)(u.Z,{children:["Are you sure you want to delete Action",(0,w.jsx)("strong",{style:{marginLeft:"5px"},children:(null===Q||void 0===Q?void 0:Q.name)||""}),"?"]})}),(0,w.jsxs)(x.Z,{children:[(0,w.jsx)(C.Z,{label:"Delete",btnType:"error",type:"button",onClick:function(){return le(null===Q||void 0===Q?void 0:Q.id)}}),(0,w.jsx)(C.Z,{label:"Cancel",btnType:"default",type:"button",onClick:function(){return K(!1)}})]})]})]})},L=["tableId"],U=[{id:"id",label:"ID",type:"number"},{id:"tableName",label:"Table Name",type:"string"}],Y=function(){var e=(0,a.useState)(0),t=(0,r.Z)(e,2),n=t[0],y=t[1],j=(0,a.useState)([]),k=(0,r.Z)(j,2),D=k[0],S=k[1],I=(0,a.useState)(null),N=(0,r.Z)(I,2),E=N[0],q=N[1],_=(0,a.useState)(!1),H=(0,r.Z)(_,2),O=H[0],A=H[1],W=(0,a.useState)(!1),G=(0,r.Z)(W,2),V=G[0],F=G[1],Y=(0,a.useState)(!1),K=(0,r.Z)(Y,2),M=K[0],J=K[1],Q=(0,a.useState)(""),X=(0,r.Z)(Q,2),$=X[0],ee=X[1],te=(0,a.useState)(null),ne=(0,r.Z)(te,2),re=ne[0],ae=ne[1];(0,a.useEffect)((function(){oe()}),[]);var ie,oe=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){var t,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.h.get("administrator/data-tables");case 3:t=e.sent,n=t.data.map((function(e){var t=e.tableId,n=(0,s.Z)(e,L);return(0,o.Z)({id:t},n)})),S(n),q(n[0]||null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching data tables:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!1),!E){e.next=14;break}return e.prev=2,e.next=5,h.h.delete("administrator/data-tables",{body:{tableId:E.id,tableName:E.tableName}});case 5:if(!((t=e.sent).message&&t.message.length>0)){e.next=9;break}return e.next=9,oe();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error deleting data table:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=(0,c.Z)((0,l.Z)().mark((function e(t){var n,r,a,i,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=g.Z.loginResponse.accessToken,(r=new FormData).append("tableName",$),r.append("file",re),e.prev=5,e.next=8,fetch("https://api.gradwalk.us/api/administrator/data-tables/import",{method:"POST",headers:{Authorization:"Bearer ".concat(n)},body:r});case 8:if(!(a=e.sent).ok){e.next=19;break}return e.next=12,a.json();case 12:(i=e.sent).message&&g.Z.showToast(i.message,"success"),J(!1),ee(""),ae(null),e.next=23;break;case 19:return e.next=21,a.json();case 21:o=e.sent,g.Z.showToast(o.message||"An error occurred","error");case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(5),console.error("Error:",e.t0);case 28:oe();case 29:case"end":return e.stop()}}),e,null,[[5,25]])})));return function(t){return e.apply(this,arguments)}}();return(0,w.jsxs)("div",{style:{backgroundColor:"#ffffff",height:"calc(100vh - 95px)",maxHeight:"100%",display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:[(0,w.jsx)(i.Z,{sx:{width:"100%",borderRadius:"4px",height:"100%"},children:(0,w.jsx)(i.Z,{sx:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"1px solid #ccc"},children:(0,w.jsx)(v.P,{left:(0,w.jsxs)("div",{style:{paddingRight:"5px",height:"100%",display:"flex",flexDirection:"column"},children:[(0,w.jsx)(m._u,{style:{height:"60px"},children:(0,w.jsx)(m.vD,{children:(0,w.jsx)(u.Z,{variant:"overline",sx:{fontSize:15,ml:"16px"},children:"Data Table Management"})})}),(0,w.jsx)(i.Z,{sx:{flex:1,overflow:"hidden"},children:(0,w.jsx)(b.Z,{tasks:D,columns:U,onSelection:function(e){if(null!==e){var t=D.find((function(t){return t.id===e}));q(t||null)}else F(!1)},resetSelectionRowId:V,defaultHeight:"100%",filterComponent:(0,w.jsx)(T.Z,{categories:["Create Table","Import File","Delete Table"],onButtonClick:function(e){switch(e){case"Create Table":F(!0),q({}),y(0);break;case"Delete Table":E&&A(!0);break;case"Import File":J(!0);break;default:console.log("Invalid option selected")}}})})})]}),right:(0,w.jsxs)("div",{style:{marginRight:"5px",height:"100%",display:"flex",flexDirection:"column",marginLeft:"4px"},children:[(0,w.jsx)(Z.Z,{value:n,onChange:function(e,t){y(t)},tabs:["Data Table Details"]}),(0,w.jsx)(i.Z,{sx:{height:"100%",overflow:"hidden",mt:"5px"},children:(ie=n,0===ie?(0,w.jsx)(P,{currentObject:E,reloaddData:oe}):null)})]})})})}),(0,w.jsxs)(d.Z,{open:O,onClose:function(){return A(!1)},maxWidth:"xs",fullWidth:!0,children:[(0,w.jsx)(p.Z,{children:"Confirm"}),(0,w.jsx)(f.Z,{children:(0,w.jsxs)(u.Z,{children:["Are you sure you want to delete table"," ",(0,w.jsx)("strong",{children:(null===E||void 0===E?void 0:E.tableName)||""}),"?"]})}),(0,w.jsxs)(x.Z,{children:[(0,w.jsx)(C.Z,{label:"Delete",btnType:"error",type:"button",onClick:se}),(0,w.jsx)(C.Z,{label:"Cancel",btnType:"default",type:"button",onClick:function(){return A(!1)}})]})]}),(0,w.jsx)(R.Z,{open:M,onClose:function(){return J(!1)},children:(0,w.jsxs)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,borderRadius:2,width:500,p:2},children:[(0,w.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,w.jsx)(u.Z,{variant:"h6",children:"Create Table"}),(0,w.jsx)(z.Z,{onClick:function(){return J(!1)},sx:{cursor:"pointer",fontSize:"1.5rem"}})]}),(0,w.jsxs)("form",{onSubmit:le,children:[(0,w.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,w.jsx)(B.Z,{label:"Enter Table Name",variant:"standard",fullWidth:!0,name:"tableName",value:$,onChange:function(e){return ee(e.target.value)},required:!0}),(0,w.jsx)(u.Z,{variant:"subtitle1",children:"Import Excel File"}),(0,w.jsx)("input",{type:"file",accept:".xls,.xlsx,.csv",name:"file",onChange:function(e){var t=e.target.files?e.target.files[0]:null;ae(t)},required:!0,style:{cursor:"pointer"}})]}),(0,w.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"flex-end",gap:2,mt:3},children:[(0,w.jsx)(C.Z,{label:"Cancel",btnType:"error",type:"button",onClick:function(){return J(!1)}}),(0,w.jsx)(C.Z,{label:"Submit",btnType:"default",type:"submit"})]})]})]})})]})},K=function(){var e=(0,a.useState)(0),t=(0,r.Z)(e,2),n=t[0],o=t[1];return(0,w.jsxs)("div",{style:{backgroundColor:"#ffffff",height:"calc(100vh - 95px)",maxHeight:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[(0,w.jsx)(i.Z,{sx:{width:"100%"},children:(0,w.jsx)(Z.Z,{value:n,onChange:function(e,t){o(t)},tabs:["Document","Data Tables"]})}),(0,w.jsx)(i.Z,{sx:{flex:1,width:"100%",overflow:"hidden",mt:"2px"},children:function(){switch(n){case 0:return(0,w.jsx)(q,{});case 1:return(0,w.jsx)(Y,{});case 1:return(0,w.jsxs)(i.Z,{sx:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,w.jsx)("h2",{children:"Data Tables Tab"}),(0,w.jsx)("p",{children:"Here you can manage your data tables."})]});default:return null}}()})]})}}}]);
//# sourceMappingURL=5259.45176be3.chunk.js.map