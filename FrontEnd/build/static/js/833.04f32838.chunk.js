"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[833],{87045:function(n,e,t){t.d(e,{SW:function(){return l},WL:function(){return c},_u:function(){return o},vD:function(){return d}});var r=t(66934),i=t(697),s=t(96873),a=function(n){4===n.length&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]);var e=parseInt(n.substring(1,3),16),t=parseInt(n.substring(3,5),16),r=parseInt(n.substring(5,7),16);return"rgb(".concat(e,", ").concat(t,", ").concat(r,")")},o=(0,r.ZP)(i.Z)((function(n){n.theme;return{display:"flex",alignItems:"center",padding:"0px, 16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",color:s.q.Dg_bg2,backgroundColor:"#fafafa","&:hover":{backgroundImage:s.q.H_hv},height:"60px"}})),c=(0,r.ZP)(i.Z)((function(n){return{display:"flex",alignItems:"center",padding:"6px",backgroundColor:n.theme.palette.background.default,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1.5)"}})),l=(0,r.ZP)(i.Z)((function(n){return{display:"flex",alignItems:"center",padding:"5px",backgroundColor:"dark"===n.theme.palette.mode?a("#1E1E1E"):"#efefef",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}})),d=(0,r.ZP)(i.Z)({marginLeft:"1px"})},55651:function(n,e,t){t(72791);var r=t(80184);e.Z=function(n){var e=n.condition,t=n.children;return e?(0,r.jsx)(r.Fragment,{children:t}):null}},6193:function(n,e,t){var r=t(15671),i=t(43144),s=t(84098),a=function(){function n(){(0,r.Z)(this,n),this.tasks=void 0,this.taskIds=void 0,this.version=void 0,this.pageHeader=void 0,this.tasks=[],(0,s.ky)(this)}return(0,i.Z)(n,[{key:"setTasks",value:function(n){this.tasks=n}},{key:"setTaskIds",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Pending Tasks";this.taskIds=n,this.pageHeader=e}}]),n}(),o=new a;e.Z=o},92509:function(n,e,t){t.d(e,{bZ:function(){return r},e_:function(){return i},if:function(){return s}});var r=function(n){return n[n.ADMIN_USER=1]="ADMIN_USER",n[n.DEFAULT_USER=2]="DEFAULT_USER",n[n.JOBS_USER=3]="JOBS_USER",n[n.ENTITY_ADMIN_USER=4]="ENTITY_ADMIN_USER",n[n.SUPER_ADMIN_USER=5]="SUPER_ADMIN_USER",n}({}),i=function(n){return n[n.SearchSettings=1]="SearchSettings",n[n.InternalTagUpdate=2]="InternalTagUpdate",n[n.DocumentTagDetails=3]="DocumentTagDetails",n}({}),s=function(n,e){return n.some((function(n){return n===e}))}},70833:function(n,e,t){t.r(e),t.d(e,{FabIcon:function(){return V},StyledCard:function(){return K},default:function(){return Y}});var r=t(4942),i=t(61819),s=t(15861),a=t(29439),o=t(72791),c=t(66934),l=t(57621),d=t(49877),x=t(697),u=t(61889),h=t(99875),p=t(20068),f=t(96873),m=t(80184),g=(0,c.ZP)(l.Z)((function(n){var e=n.theme;return(0,r.Z)({display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",padding:"24px !important",cursor:"pointer",background:f.q.DB_bg,transition:"transform .2s","&:hover":{transform:"scale(1.02)",backgroundImage:f.q.DB_hv3}},e.breakpoints.down("sm"),{padding:"16px !important"})})),Z=(0,c.ZP)(d.Z)((function(n){return{width:"40px !important",height:"40px !important",boxShadow:"none !important",transition:n.theme.transitions.create("transform"),"&:hover":{transform:"scale(1.1)",backgroundImage:f.q.DB_hv1},color:f.q.DB_Icon2}})),b=(0,c.ZP)(x.Z)((function(n){n.theme;return{display:"flex",flexWrap:"wrap",alignItems:"center","& small":{fontSize:"16px",color:f.q.DB_text2},"& .icon":{opacity:.8,fontSize:"48px",color:f.q.DB_bg1}}})),j=(0,c.ZP)("h6")((function(n){n.theme;return{margin:0,marginTop:"4px",fontSize:"18px",fontWeight:"600",color:f.q.DB_text2}})),k=function(n){var e=n.cardList,t=n.handleTasks;return(0,m.jsx)(u.ZP,{container:!0,spacing:3,sx:{mb:"24px"},children:Object.entries(e).map((function(n,e){var r=(0,a.Z)(n,2),i=r[0],s=r[1];return(0,m.jsx)(u.ZP,{item:!0,xs:12,md:6,onClick:function(){t(s)},children:(0,m.jsxs)(g,{elevation:8,children:[(0,m.jsxs)(b,{children:[(0,m.jsx)(h.Z,{className:"icon",children:"task_alt"}),(0,m.jsxs)(x.Z,{ml:"16px",children:[(0,m.jsx)("small",{children:i}),(0,m.jsxs)(j,{children:["Tasks: ",s.length]})]})]}),(0,m.jsx)(p.Z,{title:"View Details",placement:"top",children:(0,m.jsx)(Z,{size:"medium",sx:{background:"rgba(9, 182, 109, 0.15)"},children:(0,m.jsx)(h.Z,{children:"arrow_right_alt"})})})]})},e)}))})},v=t(13967),_=t(35527),S=t(20890),w=t(92271),D=t(6193),I=t(57689),T=t(12065),y=(0,c.ZP)("div")((function(){return{display:"flex",flexWrap:"wrap",alignItems:"center"}})),P=(0,c.ZP)(d.Z)((function(n){return{width:"48px !important",height:"48px !important",boxShadow:"none !important",transition:n.theme.transitions.create("transform"),"&:hover":{transform:"scale(1.1)",backgroundImage:f.q.DB_hv1},color:f.q.DB_Icon2}})),B=(0,c.ZP)("h3")((function(n){n.textcolor;return{margin:0,fontWeight:"600",marginLeft:"16px",color:f.q.DB_text2}})),E=(0,c.ZP)("h1")((function(n){n.theme;return{margin:0,flexGrow:1,color:f.q.DB_text4,fontSize:"32px"}})),q=(0,c.ZP)("h1")((function(n){n.theme;return{margin:0,flexGrow:1,fontSize:"32px",color:f.q.DB_text5}})),R=(0,c.ZP)("span")((function(n){n.textcolor;return{fontSize:"20px",marginLeft:"6px"}})),C=(0,c.ZP)("div")((function(){return{width:18,height:18,color:f.q.DB_bg2,display:"flex",overflow:"hidden",borderRadius:"300px ",justifyContent:"center","& .icon":{fontSize:"20px"}}})),U=function(n){var e=n.onTime,t=n.Critical,r=n.handleCardClick,i=(0,v.Z)().palette,s=i.error.main,a=((0,T.$n)(i.error.main,.85),Number(e)+Number(t)),o=a>0?Math.round(+e/a*100):0,c=a>0?Math.round(+t/a*100):0;return(0,m.jsxs)(u.ZP,{container:!0,spacing:3,justifyContent:"center",sx:{my:1},children:[(0,m.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,m.jsxs)(l.Z,{elevation:5,sx:{p:2.5,cursor:"pointer",transition:"box-shadow .3s, transform .2s","&:hover":{boxShadow:"0px 8px 20px rgba(0,0,0,0.12)",transform:"scale(1.02)",backgroundImage:f.q.DB_hv3}},onClick:function(){return r("OnTime")},children:[(0,m.jsxs)(y,{children:[(0,m.jsx)(P,{size:"medium",sx:{background:"rgba(9, 182, 109, 0.15)"},children:(0,m.jsx)(h.Z,{children:"trending_up"})}),(0,m.jsx)(B,{children:"On Time"})]}),(0,m.jsxs)(y,{sx:{pt:2.5},children:[(0,m.jsx)(E,{children:e}),(0,m.jsx)(C,{sx:{background:"rgba(9, 182, 109, 0.15)"},children:(0,m.jsx)(h.Z,{className:"icon",children:"expand_less"})}),(0,m.jsxs)(R,{sx:{color:f.q.DB_text4},children:["(",o,"%)"]})]})]})}),(0,m.jsx)(u.ZP,{item:!0,xs:12,md:6,children:(0,m.jsxs)(l.Z,{elevation:5,sx:{p:2.5,cursor:"pointer",transition:"box-shadow .3s, transform .2s","&:hover":{boxShadow:"0px 8px 20px rgba(0,0,0,0.12)",transform:"scale(1.02)",backgroundImage:f.q.DB_hv3}},onClick:function(){return r("Crtical")},children:[(0,m.jsxs)(y,{children:[(0,m.jsx)(P,{size:"medium",sx:{background:"rgba(9, 182, 109, 0.15)"},children:(0,m.jsx)(h.Z,{children:"star_outline"})}),(0,m.jsx)(B,{textcolor:s,children:"Priority Applications"})]}),(0,m.jsxs)(y,{sx:{pt:2.5},children:[(0,m.jsx)(q,{children:t}),(0,m.jsx)(C,{sx:{background:"rgba(9, 182, 109, 0.15)"},children:(0,m.jsx)(h.Z,{className:"icon",children:"expand_less"})}),(0,m.jsxs)(R,{sx:{color:f.q.DB_text5},children:["(",c,"%)"]})]})]})})]})},z=t(87045),A=t(92509),N=t(21524),W=t(55651),L=t(90493),O=t(84852),F=t(94294),M=function(n){var e=n.items,t=void 0===e?[]:e,r=n.onButtonClick,i=n.heading;return(0,m.jsxs)(x.Z,{style:{padding:"5px",marginBottom:1},children:[(0,m.jsx)(S.Z,{sx:{ml:"5px",fontWeight:"bold"},children:i}),(0,m.jsx)(L.Z,{sx:{padding:0},children:t.map((function(n,e){return(0,m.jsx)(O.ZP,{sx:{padding:"0px",marginBottom:"6px",borderRadius:"7px",background:"rgb(244 246 248)",transition:"transform .2s","&:hover":{transform:"scale(1.02)",backgroundImage:f.q.DB_hv3}},children:(0,m.jsx)(F.Z,{sx:{cursor:"pointer",width:"100%",padding:0},onClick:function(){return r(n)},children:(0,m.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"column",width:"100%",textAlign:"left",padding:"8px"},children:[(0,m.jsx)(S.Z,{sx:{fontSize:"1.1em",fontWeight:"bold"},children:n.userName}),(0,m.jsx)(S.Z,{sx:{fontSize:"0.9em",color:"black"},children:n.documentTypeName}),(0,m.jsx)(S.Z,{sx:{fontSize:"0.9em",color:"black"},children:n.documentStateName})]})})},e)}))})]})},G=(0,c.ZP)("h3")((function(n){return{fontSize:"1.25rem",fontWeight:500,marginBottom:"12px",color:n.theme.palette.text.primary}})),H=(0,c.ZP)("span")((function(){return{fontSize:"0.875rem",color:"rgba(0, 0, 0, 0.6)"}})),Y=function(){var n=(0,v.Z)(),e=(0,I.s0)(),t=(0,o.useState)({}),r=(0,a.Z)(t,2),c=r[0],d=r[1],g=(0,o.useState)(w.Z.loginResponse.tasks),Z=(0,a.Z)(g,2),b=Z[0],j=Z[1],T=(0,o.useState)(w.Z.loginResponse.pendingTasks),y=(0,a.Z)(T,2),P=y[0],B=y[1],E=w.Z.loginResponse.user[0].userType,q=(0,o.useState)([]),R=(0,a.Z)(q,2),C=R[0],L=R[1],O=(0,o.useState)([]),F=(0,a.Z)(O,2),Y=F[0],Q=F[1],X=function(){var n=(0,s.Z)((0,i.Z)().mark((function n(e,t){var r;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.h.post("assigned-tasks",{body:{taskIds:t}});case 3:r=n.sent,"old"==e?Q(r.data):"new"==e&&L(r.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error fetching data:",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}();(0,o.useEffect)((function(){var n=w.Z.loginResponse.user[0].userId,e=w.Z.selectedEntity;E===A.bZ.DEFAULT_USER?N.h.get("assigned-tasks/user/".concat(n)).then((function(n){n.status&&d(n.data)})):-1===w.Z.selectedEntity?N.h.get("get-user-entities/".concat(w.Z.loginResponse.user[0].userId)).then((function(t){if(t.success){var r,i;if(t.data.length>0)e=null!==(r=null===(i=t.data[0])||void 0===i?void 0:i.entityId)&&void 0!==r?r:-1;var s=t.data;w.Z.setSelectedEntity(e),w.Z.setUserEntities(null!==s&&void 0!==s?s:[]),nn(n,e)}})):nn(n,e)}),[]);var nn=function(n,e){N.h.post("user-dashboard",{body:{userId:n,entityId:e}}).then((function(n){n.success&&(B(n.data.pendingTasks),j(n.data.tasks),X("old",n.data.oldestTaskIds),X("new",n.data.recentTaskIds))}))},en=function(n){e("/user/task/".concat(null===n||void 0===n?void 0:n.id))};return(0,m.jsx)(_.Z,{sx:{height:"100%",width:"100%",p:2,backgroundColor:n.palette.background.paper},children:(0,m.jsxs)(x.Z,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},height:"100%",gap:2},children:[(0,m.jsxs)(x.Z,{sx:{flexBasis:{xs:"100%",md:"30%"},display:"flex",flexDirection:"column",gap:2,maxHeight:{md:"calc(100vh - 150px)"},overflow:"auto"},children:[(0,m.jsx)(l.Z,{sx:{p:1},children:(0,m.jsx)(M,{onButtonClick:en,heading:"Recent applications",items:C})}),(0,m.jsx)(l.Z,{sx:{p:1,mt:1},children:(0,m.jsx)(M,{onButtonClick:en,items:Y,heading:"Old applications"})})]}),(0,m.jsxs)(x.Z,{sx:{flexGrow:1,p:1,display:"flex",flexDirection:"column",gap:2,overflow:"auto"},children:[(0,m.jsx)(W.Z,{condition:E!==A.bZ.DEFAULT_USER,children:(0,m.jsx)(_.Z,{sx:{borderRadius:2,display:"flex",p:1,width:"100%"},children:(0,m.jsx)(U,{onTime:b.onTime.length,Critical:b.critical.length,handleCardClick:function(n){"OnTime"===n?D.Z.setTaskIds(b.onTime,"On Time"):D.Z.setTaskIds(b.critical,"Priority Applications"),e("/user/tasks")}})})}),(0,m.jsx)(W.Z,{condition:E===A.bZ.DEFAULT_USER,children:(0,m.jsxs)(_.Z,{sx:{p:2,borderRadius:2,width:"100%",mt:2},children:[(0,m.jsx)(G,{sx:{color:f.q.DB_text2},children:"Tasks"}),Object.entries(c).length>0?(0,m.jsx)(k,{cardList:c,handleTasks:function(n){if(1==n.length)e("/user/task/".concat(n[0].id));else{var t=n.map((function(n){return n.id}));D.Z.setTaskIds(t,"Your Applications"),e("/user/tasks")}}}):(0,m.jsx)(z.vD,{children:(0,m.jsx)(H,{children:"No Tasks Assigned"})})]})}),(0,m.jsx)(W.Z,{condition:E!==A.bZ.DEFAULT_USER,children:(0,m.jsxs)(_.Z,{sx:{p:2,borderRadius:2,width:"100%",mt:2},children:[(0,m.jsx)(G,{children:"All Applications"}),P&&Object.keys(P).length>0?Object.entries(P).map((function(t){var r=(0,a.Z)(t,2),i=r[0],s=r[1];return(0,m.jsxs)(x.Z,{sx:{width:"100%"},children:[(0,m.jsx)(S.Z,{variant:"h6",sx:{color:n.palette.primary.main},children:i}),(0,m.jsx)(u.ZP,{container:!0,spacing:2,wrap:"wrap",children:Object.entries(s).map((function(n,t){var r=(0,a.Z)(n,2),s=r[0],o=r[1];return(0,m.jsx)(u.ZP,{item:!0,sx:{flexGrow:1,width:"auto"},onClick:function(){D.Z.setTaskIds(o,"".concat(i," - ").concat(s)),e("/user/tasks")},children:(0,m.jsxs)(K,{elevation:8,children:[(0,m.jsxs)($,{children:[(0,m.jsx)(h.Z,{className:"icon",children:"task_alt"}),(0,m.jsxs)(x.Z,{ml:"16px",children:[(0,m.jsx)("small",{children:s}),(0,m.jsxs)(J,{children:["Tasks: ",o.length]})]})]}),(0,m.jsx)(p.Z,{title:"View Details",placement:"top",children:(0,m.jsx)(V,{size:"medium",sx:{background:"rgba(9, 182, 109, 0.15)"},children:(0,m.jsx)(h.Z,{children:"arrow_right_alt"})})})]})},t)}))})]},i)})):(0,m.jsx)(z.vD,{children:(0,m.jsx)(H,{children:"No Pending Tasks"})})]})})]})]})})},J=(0,c.ZP)("h6")((function(n){n.theme;return{margin:0,marginTop:"4px",fontSize:"18px",fontWeight:"600",color:f.q.DB_text2}})),V=(0,c.ZP)(d.Z)((function(n){return{width:"40px !important",height:"40px !important",boxShadow:"none !important",transition:n.theme.transitions.create("transform"),"&:hover":{transform:"scale(1.1)",backgroundImage:f.q.DB_hv1},color:f.q.DB_Icon2}})),$=(0,c.ZP)(x.Z)((function(n){n.theme;return{display:"flex",flexWrap:"wrap",alignItems:"center","& small":{fontSize:"16px",color:f.q.DB_text2},"& .icon":{opacity:.8,fontSize:"48px",color:f.q.DB_bg1}}})),K=(0,c.ZP)(l.Z)((function(n){var e=n.theme;return(0,r.Z)({display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",padding:"24px !important",cursor:"pointer",background:"rgb(244 246 248)",transition:"transform .2s","&:hover":{transform:"scale(1.02)",backgroundImage:f.q.DB_hv3}},e.breakpoints.down("sm"),{padding:"16px !important"})}))}}]);
//# sourceMappingURL=833.04f32838.chunk.js.map