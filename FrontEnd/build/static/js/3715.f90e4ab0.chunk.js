"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[3715],{63715:function(e,n,t){t.r(n),t.d(n,{default:function(){return ke}});var r=t(29439),o=t(72791),i=t(697),a=t(74153),l=t(92271),s=t(61819),c=t(93433),d=t(1413),u=t(45987),x=t(15861),p=t(20890),f=t(5289),h=t(65661),m=t(39157),v=t(97123),g=t(87045),b=t(93268),Z=t(53673),j=t(99490),y=t(58833),w=t(37762),S=t(26727),C=t(94721),k=t(50025),I=t(21524),D=t(36459),T=t(57621),q=t(61889),B=t(94294),N=t(39504),O=t(70242),R=t(74512),z=t(15825),P=t(92506),G=t(96873),F=t(87123),W=t(57689),V=t(5397),A=t(42419),E=t(80184),M=function(e){var n,t,a,l,u,f,h=e.Data,m=(e.onSubmit,e.showCloneButton,(0,o.useRef)(null)),v=(0,o.useState)([]),g=(0,r.Z)(v,2),b=g[0],Z=g[1],j=(0,o.useState)(0),y=(0,r.Z)(j,2),w=y[0],k=y[1],I=(0,o.useState)(0),M=(0,r.Z)(I,2),_=M[0],L=(M[1],(0,W.TH)().pathname.split("/"),(0,o.useState)([])),Q=(0,r.Z)(L,2),H=Q[0],U=Q[1],Y=(0,o.useState)(!1),X=(0,r.Z)(Y,2),J=(X[0],X[1],(0,o.useState)("1")),K=(0,r.Z)(J,2),$=K[0],ee=K[1],ne=(0,o.useState)(!1),te=(0,r.Z)(ne,2),re=(te[0],te[1],(0,o.useState)(!1)),oe=(0,r.Z)(re,2),ie=(oe[0],oe[1]);(0,o.useEffect)((function(){h&&h.sections&&(Z(h.sections),ee(h.documentTagType),U(h.selections||[]))}),[h]);var ae=function(e){for(var n=S.Z_(),t=e.split(","),r=0;r<t.length;r++)if("req"===t[r])n=n.required("Required");else if("email"===t[r])n=n.email("Invalid email address");else if("min"===t[r]){var o=parseInt(t[r+1]);isNaN(o)||(n=n.min(o,"Must be at least ".concat(o," characters")),r++)}return n},le=function(e){var n={};return e.forEach((function(e){var t=e.validationSchema;for(var r in t)n[r]=ae(t[r])})),S.Ry(n)}(b),se=null!==(n=null===(t=b[w])||void 0===t?void 0:t.initialValues)&&void 0!==n?n:{},ce=null!==(a=null===(l=b[w])||void 0===l?void 0:l.formDetails)&&void 0!==a?a:[],de=b.length,ue=function(){var e=(0,x.Z)((0,s.Z)().mark((function e(){var n,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.current){e.next=6;break}return n=m.current,e.next=4,n.validateForm();case 4:t=e.sent,pe(t,w,b)?ie(!0):ie(!1);case 6:w<de-1&&k(w+1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(e){var n=String(e).split("-");if(H){var t=+n[0];return H.reduce((function(e,n){return n.questions.includes(t)?[].concat((0,c.Z)(e),(0,c.Z)(n.options)):e}),[])}return[]},pe=function(e,n,t){var r,o,i=(null!==(r=null===(o=t[n])||void 0===o?void 0:o.formDetails)&&void 0!==r?r:[]).some((function(n){return n.form.some((function(n){return e[n.order]}))}));return ie(Object.entries(e).length>0),i};return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f4f6f8",width:"100%",height:"100%"},children:(0,E.jsxs)(T.Z,{sx:{width:"100%",height:"100%",borderRadius:0,display:"flex",flexDirection:"column",overflow:"hidden",boxSizing:"border-box"},children:[(0,E.jsxs)(q.ZP,{padding:"7px",justifyContent:"space-between",display:"flex",width:"100%",style:{backgroundColor:G.q.F_bg2,color:G.q.F_text1,maxHeight:"6vh"},children:[w>=1&&(0,E.jsx)(B.Z,{type:"button",variant:"outlined",onClick:function(){w>0&&k(w-1)},sx:{borderColor:G.q.Button1,backgroundColor:G.q.Button1,color:G.q.Button2,"&:hover":{backgroundImage:G.q.B_hv1,borderColor:G.q.Button1}},children:"Back"}),(0,E.jsx)(p.Z,{align:"left",sx:{display:"flex",justifyContent:"center",fontSize:"1.25em"},children:null!==(u=null===(f=b[w])||void 0===f?void 0:f.sectionName)&&void 0!==u?u:""}),w<de-1&&(0,E.jsx)(B.Z,{type:"button",variant:"outlined",color:"primary",onClick:ue,sx:{borderColor:G.q.Button1,backgroundColor:G.q.Button1,color:G.q.Button2,"&:hover":{backgroundImage:G.q.B_hv1,borderColor:G.q.Button1}},children:"Next"})]}),(0,E.jsx)(N.Z,{sx:{flexGrow:1,padding:0,display:"flex",flexDirection:"column",overflow:"hidden",boxSizing:"border-box"},children:(0,E.jsx)(i.Z,{sx:{width:"100%",height:"100%",boxSizing:"border-box"},children:(0,E.jsx)(P.J9,{innerRef:m,initialValues:se,validationSchema:le,onSubmit:function(){var e=(0,x.Z)((0,s.Z)().mark((function e(n,t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,D.Z)(t),(0,d.Z)({},n);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,t=(e.submitCount,e.isSubmitting,e.values),r=(e.handleSubmit,e.handleChange);return(0,E.jsxs)(i.Z,{sx:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},children:[(0,E.jsx)(i.Z,{sx:{flexGrow:1,overflowY:"auto",overflowX:"hidden",boxSizing:"border-box"},children:(0,E.jsx)(P.l0,{style:{display:"flex",flexDirection:"column"},children:ce.map((function(e,o){var a;if(0===e.form.length)return null;var l="2"===((null===(a=b[w])||void 0===a?void 0:a.columns)||"1"),s=Math.ceil(e.form.length/2),u=l?e.form.slice(0,s):e.form,x=e.form.slice(s);return"horizontal"===e.display?(0,E.jsxs)(q.ZP,{container:!0,spacing:0,sx:{pt:"8px",width:"100%",m:0},children:[(0,E.jsx)(q.ZP,{item:!0,xs:12,children:(0,E.jsx)(i.Z,{sx:{backgroundColor:"#f5f5f5",paddingLeft:0},children:(0,E.jsx)(p.Z,{variant:"h6",sx:{color:"#333",p:"5px"},children:e.groupName})})}),(0,E.jsx)(q.ZP,{item:!0,xs:12,children:(0,E.jsx)(q.ZP,{container:!0,spacing:1,sx:{width:"100%",m:0,pr:1},children:e.form.map((function(o,i){return(0,E.jsx)(q.ZP,{item:!0,xs:12/e.form.length,sx:{width:"100%"},children:(0,F.D)(o,i,r,t,n,xe,$)},o.order||i)}))})})]},o):(0,E.jsxs)(i.Z,{marginTop:"10px",borderBottom:1,borderColor:"grey.300",sx:{width:"100%"},children:[e.repeated&&0==o&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(i.Z,{display:"flex",justifyContent:"flex-end",alignItems:"center",children:(0,E.jsx)(B.Z,{variant:"outlined",color:"primary",endIcon:(0,E.jsx)(A.Z,{}),onClick:function(){return function(e,n){var t=(0,c.Z)(b),r=t[e].formDetails[n].form,o=t[e].formDetails.length-1;t[e].formDetails.push({groupName:t[e].formDetails[n].groupName,repeated:!0,form:r.map((function(e,n){return(0,d.Z)((0,d.Z)({},e),{},{order:"".concat(e.order,"-").concat(o)})}))}),Z(t)}(w,o)},style:{marginRight:"16px",height:"2.2em"},children:"Add New Row"})}),(0,E.jsx)(i.Z,{sx:{backgroundColor:"#f5f5f5",padding:"6px"},children:(0,E.jsx)(p.Z,{variant:"h6",align:"left",sx:{color:"#333"},children:e.groupName})})]}),!e.repeated&&(0,E.jsx)(i.Z,{sx:{backgroundColor:"#f5f5f5",padding:"6px"},children:(0,E.jsx)(p.Z,{variant:"h6",align:"left",sx:{color:"#333"},children:e.groupName})}),(0,E.jsxs)(q.ZP,{container:!0,spacing:1,style:{boxSizing:"border-box",marginLeft:0,paddingRight:l?"0px":"16px"},children:[(0,E.jsx)(i.Z,{sx:{width:"100%",display:"flex",justifyContent:"end"},children:e.repeated&&o>0&&(0,E.jsx)(V.Z,{sx:{alignItems:"end",mr:l?"16px":"0"},onClick:function(){return function(e,n){var t=(0,c.Z)(b);t[e].formDetails[n]={form:[]},Z(t)}(w,o)}})}),(0,E.jsx)(q.ZP,{item:!0,xs:l?5.5:12,children:u.map((function(e,o){return(0,F.D)(e,o,r,t,n,xe,$)}))}),l&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(C.Z,{orientation:"vertical",flexItem:!0,variant:"middle",style:{paddingLeft:6,paddingRight:3,color:"red"}}),(0,E.jsx)(q.ZP,{item:!0,xs:6,style:{paddingLeft:"10px"},children:x.map((function(e,o){return(0,F.D)(e,o,r,t,n,xe,$)}))})]})]})]},o)}))})}),(0,E.jsx)(i.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,bottom:0,width:"100%",backgroundColor:"#FFF",boxSizing:"border-box",overflow:"hidden"},children:de>1&&(0,E.jsxs)(i.Z,{sx:{paddingY:"14px",width:"98%",borderTop:"1px solid #ccc"},children:[(0,E.jsx)(O.Z,{activeStep:w,alternativeLabel:!0,sx:{backgroundColor:"#FFF",width:"100%","& .MuiStepIcon-root":{color:G.q.Button_bg2,"&.Mui-active":{color:G.q.Button_bg1},"&.Mui-completed":{color:G.q.main_bg1},"&.Mui-error":{color:"#FF3D57"}},"& .MuiStepLabel-root":{"&.Mui-error":{color:G.q.Error_Color}}},children:Array.from({length:de},(function(e,t){return(0,E.jsx)(R.Z,{onClick:function(){k(t)},style:{cursor:"pointer"},children:(0,E.jsx)(z.Z,{error:pe(n,t,b)})},t)}))})," "]})})]})}},_)})})]})})})},_=t(80911),L=function(){return{documentTagType:"",selections:[],filterOptions:[],sections:[]}},Q=t(93006),H=t(13400),U=t(90493),Y=t(84852),X=t(41286),J=t(27247),K=function(e){var n,t=e.onSelectionsChange,a=e.initialSelections,l=e.onDeleteOption,s=(0,o.useState)(!1),u=(0,r.Z)(s,2),x=u[0],f=u[1],h=(0,o.useState)(!1),m=(0,r.Z)(h,2),v=m[0],g=m[1],b=(0,o.useState)(null),Z=(0,r.Z)(b,2),y=Z[0],w=Z[1],S=(0,o.useState)(""),I=(0,r.Z)(S,2),D=I[0],T=I[1],q=(0,o.useState)(""),N=(0,r.Z)(q,2),O=N[0],R=N[1],z=(0,o.useState)(null),P=(0,r.Z)(z,2),G=P[0],F=P[1];console.log("selectedItemId",G);var W=(0,o.useState)([]),V=(0,r.Z)(W,2),M=V[0],_=V[1],L=(0,o.useState)(1),K=(0,r.Z)(L,2),$=K[0],ee=K[1];(0,o.useEffect)((function(){if(a&&a.length>0){var e=a.map((function(e,n){return{id:n+1,name:e.name,options:e.options||[]}}));_(e),ee(e.length+1)}}),[a]);return(0,E.jsxs)(i.Z,{sx:{p:"5px",height:"100%",width:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,E.jsxs)(i.Z,{sx:{border:"1px solid #ccc",p:"8px",width:"100%"},children:[(0,E.jsx)(p.Z,{sx:{fontWeight:"bold"},children:"Add Selections"}),(0,E.jsxs)(i.Z,{sx:{display:"flex",gap:2,mb:2,flexShrink:0,alignItems:"center"},children:[(0,E.jsx)(Q.Z,{label:"Name",variant:"outlined",size:"small",value:D,onChange:function(e){return T(e.target.value)},fullWidth:!0}),(0,E.jsx)(H.Z,{color:"primary",onClick:function(){D.trim()&&(_([].concat((0,c.Z)(M),[{id:$,name:D,options:[]}])),ee($+1),T(""))},size:"small",sx:{border:"1px solid #ccc",width:36,height:36},children:(0,E.jsx)(A.Z,{fontSize:"small"})})]}),(0,E.jsx)(i.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,E.jsx)(B.Z,{sx:{height:"1.5em",width:"auto",mb:1,border:"1px solid black",borderRadius:0,backgroundColor:"#fafafa",color:"black","&:hover":{backgroundImage:"f5f5f5",borderColor:"black"}},onClick:function(){R(""),f(!0)},disabled:null===G,children:"Add Option"})}),(0,E.jsxs)(i.Z,{sx:{overflow:"hidden",display:"flex",border:"1px solid #ccc",maxHeight:"200px"},children:[(0,E.jsxs)(i.Z,{sx:{width:"30%",overflow:"auto",padding:"5px"},children:[(0,E.jsx)(p.Z,{sx:{fontWeight:"bold",fontSize:"1.1em",borderBottom:"1px solid #ccc"},children:"Selection list"}),M.length>0&&(0,E.jsx)(U.Z,{sx:{height:"auto"},children:M.map((function(e){return(0,E.jsx)(Y.ZP,{divider:!0,button:!0,selected:G===e.id,onClick:function(){return F(e.id)},sx:{"&.Mui-selected":{backgroundColor:"#e3f2fd"}},children:e.name},e.id)}))})]}),(0,E.jsx)(C.Z,{orientation:"vertical",flexItem:!0,sx:{display:{xs:"none",md:"block"},borderWidth:"1.5px",marginX:"5px",my:"1px"}}),(0,E.jsx)(i.Z,{sx:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:(0,E.jsxs)(i.Z,{sx:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",minHeight:0},children:[(0,E.jsxs)(i.Z,{sx:{display:"flex",px:2,py:1,fontWeight:"bold",borderBottom:"1px solid #ccc",backgroundColor:"#f9f9f9",flexShrink:0},children:[(0,E.jsx)(i.Z,{sx:{flex:1},children:"ID"}),(0,E.jsx)(i.Z,{sx:{flex:1},children:"Name"}),(0,E.jsx)(i.Z,{sx:{flex:1},children:"Option"})]}),null===(n=M.find((function(e){return e.id===G})))||void 0===n?void 0:n.options.map((function(e){return(0,E.jsxs)(i.Z,{sx:{display:"flex",px:2,py:1,borderBottom:"1px solid #eee","&:last-child":{borderBottom:"none"}},children:[(0,E.jsx)(i.Z,{sx:{flex:1},children:e.id}),(0,E.jsx)(i.Z,{sx:{flex:1},children:e.name}),(0,E.jsxs)(i.Z,{sx:{flex:1,display:"flex",gap:.5},children:[(0,E.jsx)(H.Z,{onClick:function(){return n=e.id,t=e.name,w(n),R(t),void g(!0);var n,t},sx:{width:24,height:24},children:(0,E.jsx)(X.Z,{sx:{fontSize:16}})}),(0,E.jsx)(H.Z,{onClick:function(){var n;return null===l||void 0===l?void 0:l((null===(n=M.find((function(e){return e.id===G})))||void 0===n?void 0:n.name)||"",e.id)},sx:{width:24,height:24},children:(0,E.jsx)(J.Z,{sx:{fontSize:16}})})]})]},e.id)}))]})})]})]}),(0,E.jsx)(k.Z,{open:x,onClose:function(){return f(!1)},children:(0,E.jsxs)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,padding:"1em",borderRadius:"8px",width:"40%",display:"flex",flexDirection:"column",gap:2},children:[(0,E.jsx)(p.Z,{variant:"h6",children:"Add Option"}),(0,E.jsx)(Q.Z,{label:"Option Name",variant:"outlined",value:O,onChange:function(e){return R(e.target.value)},fullWidth:!0}),(0,E.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[(0,E.jsx)(j.Z,{label:"Cancel",btnType:"error",type:"button",onClick:function(){return f(!1)}}),(0,E.jsx)(j.Z,{label:"Save",btnType:"success",type:"button",onClick:function(){null!==G&&O.trim()&&(_((function(e){var n=e.map((function(e){return e.id===G?(0,d.Z)((0,d.Z)({},e),{},{options:[].concat((0,c.Z)(e.options),[{id:String(e.options.length+1),name:O}])}):e})),r=n.map((function(e){return{name:e.name,questions:[],options:e.options}}));return t&&t(r),n})),f(!1),R(""))}})]})]})}),(0,E.jsx)(k.Z,{open:v,onClose:function(){return g(!1)},children:(0,E.jsxs)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,padding:"1em",borderRadius:"8px",width:"40%",display:"flex",flexDirection:"column",gap:2},children:[(0,E.jsx)(p.Z,{variant:"h6",children:"Rename"}),(0,E.jsx)(Q.Z,{label:"Option Name",variant:"outlined",value:O,onChange:function(e){return R(e.target.value)},fullWidth:!0}),(0,E.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"flex-end",gap:1},children:[(0,E.jsx)(j.Z,{label:"Cancel",btnType:"error",type:"button",onClick:function(){return g(!1)}}),(0,E.jsx)(j.Z,{label:"Save",btnType:"success",type:"button",onClick:function(){if(y&&O.trim()&&null!==G){var e=M.map((function(e){return e.id===G?(0,d.Z)((0,d.Z)({},e),{},{options:e.options.map((function(e){return e.id===y?(0,d.Z)((0,d.Z)({},e),{},{name:O}):e}))}):e}));if(_(e),t){var n=e.map((function(e){return{name:e.name,questions:[],options:e.options}}));t(n)}g(!1),w(null),R("")}}})]})]})})]})},$=t(68096),ee=t(30829),ne=t(58406),te=t(23786),re=t(9955),oe=t(4942),ie=t(66934),ae=t(20068),le=t(38820),se=(0,ie.ZP)(B.Z)((function(){return{height:"1.5em",width:"auto",border:"1px solid black",borderRadius:0,backgroundColor:"#fafafa",color:"black","&:hover":{backgroundImage:"f5f5f5",borderColor:"black"}}})),ce=function(e){var n,t,a=e.data,l=e.questionOrder,s=(e.questionIndex,e.onValidationChange),c=(0,o.useState)([]),d=(0,r.Z)(c,2),u=d[0],x=d[1],f=(0,o.useState)(!1),h=(0,r.Z)(f,2),m=h[0],v=h[1],g=(0,o.useState)(""),b=(0,r.Z)(g,2),Z=b[0],j=b[1],y=(0,o.useState)(""),S=(0,r.Z)(y,2),C=S[0],I=S[1],D=(0,o.useState)(null),T=(0,r.Z)(D,2),q=T[0],N=T[1],O=(0,o.useState)(!1),R=(0,r.Z)(O,2),z=R[0],P=R[1],G=[],F=(null===a||void 0===a||null===(n=a.documentTypeObject)||void 0===n?void 0:n.sections)||[],W=(0,w.Z)(F);try{for(W.s();!(t=W.n()).done;){var V=t.value.validationSchema||{};for(var A in V)V.hasOwnProperty(A)&&G.push({key:A,value:V[A]})}}catch(L){W.e(L)}finally{W.f()}(0,o.useEffect)((function(){if(l){var e=G.find((function(e){return e.key===String(l)}));if(!e||"string"!==typeof e.value)return x([]),j(""),void I("");var n=e.value.trim();if("mandatory"===n||"email"===n||"req"===n)return x([{type:"req"===n?"mandatory":n,value:""}]),j("req"===n?"mandatory":n),void I("");var t=n.split(",");if(3===t.length&&"req"===t[1])return x([{type:t[0],value:t[2]}]),j(t[0]),void I(t[2]);if(t.length>=3&&t.length%3===0){var o=(0,r.Z)(t,3),i=o[0],a=o[2];return x([{type:i,value:a}]),j(i),void I(a)}x([]),j(""),I("")}}),[l]);var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!==e){var n=u[e];j(n.type),I(n.value),N(e)}else j(""),I(""),N(null);v(!0)},_=function(){v(!1),j(""),I(""),N(null)};return(0,o.useEffect)((function(){if(z&&l&&0!==u.length){var e=u[0],n="";n="mandatory"===e.type||"email"===e.type?"req":"".concat(e.type,",req,").concat(e.value);var t=(0,oe.Z)({},l,n);s(t),P(!1)}}),[u,l,z]),(0,E.jsxs)(i.Z,{sx:{mt:3},children:[(0,E.jsxs)(i.Z,{sx:{mt:3,p:2,border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[(0,E.jsx)(i.Z,{display:"flex",justifyContent:"flex-end",children:(0,E.jsx)(se,{onClick:function(){return M()},children:"Add Validation"})}),(0,E.jsxs)(i.Z,{sx:{mt:2,border:"1px solid #ddd",borderRadius:1,overflow:"hidden"},children:[(0,E.jsxs)(i.Z,{sx:{display:"flex",backgroundColor:"#eee",fontWeight:"bold",px:2,py:1},children:[(0,E.jsx)(i.Z,{sx:{flex:1},children:"Type"}),(0,E.jsx)(i.Z,{sx:{flex:1},children:"Value"}),(0,E.jsx)(i.Z,{sx:{width:60,textAlign:"center"},children:"Action"})]}),u.map((function(e,n){return(0,E.jsxs)(i.Z,{sx:{display:"flex",px:2,py:1,borderTop:"1px solid #ddd",alignItems:"center"},children:[(0,E.jsx)(i.Z,{sx:{flex:1},children:e.type}),(0,E.jsx)(i.Z,{sx:{flex:1},children:e.value}),(0,E.jsx)(i.Z,{sx:{width:60,textAlign:"center"},children:(0,E.jsx)(ae.Z,{title:"Edit",children:(0,E.jsx)(H.Z,{onClick:function(){return M(n)},size:"small",children:(0,E.jsx)(le.Z,{fontSize:"small"})})})})]},n)}))]})]}),(0,E.jsx)(k.Z,{open:m,onClose:_,children:(0,E.jsxs)(i.Z,{sx:{width:300,bgcolor:"white",p:3,borderRadius:2,boxShadow:24,mx:"auto",mt:"15%"},children:[(0,E.jsx)(p.Z,{variant:"h6",mb:2,children:null!==q?"Edit Validation Rule":"Add Validation Rule"}),(0,E.jsxs)($.Z,{fullWidth:!0,size:"small",sx:{mb:2},children:[(0,E.jsx)(ee.Z,{id:"type-select-label",children:"Type"}),(0,E.jsxs)(ne.Z,{labelId:"type-select-label",value:Z,label:"Type",onChange:function(e){j(e.target.value),"mandatory"!==e.target.value&&"email"!==e.target.value||I("")},children:[(0,E.jsx)(te.Z,{value:"min",children:"Minimum"}),(0,E.jsx)(te.Z,{value:"max",children:"Maximum"}),(0,E.jsx)(te.Z,{value:"mandatory",children:"Mandatory"}),(0,E.jsx)(te.Z,{value:"email",children:"E-mail"})]})]}),"mandatory"!==Z&&"email"!==Z&&(0,E.jsx)(Q.Z,{fullWidth:!0,size:"small",label:"Value",value:C,onChange:function(e){return I(e.target.value)},sx:{mb:2}}),(0,E.jsxs)(i.Z,{display:"flex",justifyContent:"flex-end",children:[(0,E.jsx)(B.Z,{variant:"outlined",onClick:_,sx:{mr:1},children:"Cancel"}),(0,E.jsx)(B.Z,{variant:"contained",onClick:function(){if(Z){var e="mandatory"===Z||"email"===Z?"":C.trim();x([{type:Z,value:e}]),P(!0),_()}},children:null!==q?"Update":"Add"})]})]})})]})},de=function(e){var n,t,a,l,s=e.handleGroupDisplayChange,c=e.handleValidationChange,d=e.data,u=e.sections,x=e.selectedSectionIndex,f=e.selectedGroupIndex,h=e.selectedQuestionIndex,m=e.handleSectionNameChange,v=e.handleGroupNameChange,g=e.handleGroupRepeatToggle,b=e.handleQuestionLabelChange,Z=e.handleQuestionDescriptionChange,j=e.handleQuestionDefaultValueChange,y=e.handleQuestionDropDownChange,w=e.handleSectionColumnsChange,S=(0,o.useState)(""),C=(0,r.Z)(S,2),k=C[0],I=C[1],D=null!==x&&null!==f&&null!==h?null===(n=u[x])||void 0===n||null===(t=n.selectedGroups[f])||void 0===t?void 0:t.questions[h]:null;if((0,o.useEffect)((function(){var e;if(D&&null!==d&&void 0!==d&&null!==(e=d.documentTypeObject)&&void 0!==e&&e.selections){var n=Number(D.order),t=d.documentTypeObject.selections.find((function(e){return Array.isArray(e.questions)&&e.questions.includes(n)}));I(t?t.name:D.dropdownValue||"")}}),[D,d]),null===x)return(0,E.jsx)(p.Z,{variant:"body1",children:"No section selected"});var T,q=u[x];if(null===f)return(0,E.jsxs)(i.Z,{sx:{padding:"16px"},children:[(0,E.jsx)(Q.Z,{label:"Section Name",fullWidth:!0,variant:"outlined",value:null===q||void 0===q?void 0:q.sectionName,onChange:function(e){return m(x,e.target.value)},sx:{mb:2}}),(0,E.jsxs)($.Z,{fullWidth:!0,variant:"outlined",children:[(0,E.jsx)(ee.Z,{children:"Columns"}),(0,E.jsxs)(ne.Z,{label:"Select Option",value:null!==(T=null===q||void 0===q?void 0:q.columns)&&void 0!==T?T:"",onChange:function(e){return w(x,e.target.value)},children:[(0,E.jsx)(te.Z,{value:"1",children:"1"}),(0,E.jsx)(te.Z,{value:"2",children:"2"})]})]})]});var B,N,O=null===q||void 0===q?void 0:q.selectedGroups[f];return null===h?(0,E.jsxs)(i.Z,{sx:{padding:"16px"},children:[(0,E.jsx)(Q.Z,{label:"Group Name",fullWidth:!0,variant:"outlined",value:null===O||void 0===O?void 0:O.name,onChange:function(e){return v(x,f,e.target.value)}}),(0,E.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:2},children:[(0,E.jsx)(p.Z,{variant:"body1",children:"Repeat Group"}),(0,E.jsx)(re.Z,{checked:null!==(B=null===O||void 0===O?void 0:O.repeated)&&void 0!==B&&B,onChange:function(e){return g(x,f,e.target.checked)}})]}),(0,E.jsxs)($.Z,{fullWidth:!0,variant:"outlined",sx:{mt:2},children:[(0,E.jsx)(ee.Z,{children:"Display"}),(0,E.jsxs)(ne.Z,{label:"Select Option",value:null!==(N=null===O||void 0===O?void 0:O.display)&&void 0!==N?N:"",onChange:function(e){return s(x,f,e.target.value)},children:[(0,E.jsx)(te.Z,{value:"vertical",children:"Vertical"}),(0,E.jsx)(te.Z,{value:"horizontal",children:"Horizontal"})]})]})]}):(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(i.Z,{sx:{position:"relative"},children:[(0,E.jsx)(i.Z,{sx:{display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:"10%",bgcolor:"#757575",color:"#ffffff",fontWeight:"bold",fontSize:"0.8em",padding:"3px 10px",float:"right",mb:1,mr:2,width:"auto",height:"auto"},children:null===D||void 0===D?void 0:D.order}),(0,E.jsxs)(i.Z,{sx:{padding:"16px"},children:[(0,E.jsx)(Q.Z,{label:"Question",fullWidth:!0,variant:"outlined",value:null===D||void 0===D?void 0:D.label,onChange:function(e){return b(x,f,h,e.target.value)},sx:{mb:2}}),(0,E.jsx)(Q.Z,{label:"Description",fullWidth:!0,variant:"outlined",value:null===D||void 0===D?void 0:D.description,onChange:function(e){return Z(x,f,h,e.target.value)},sx:{mb:2}}),(0,E.jsx)(Q.Z,{label:"Default Value",fullWidth:!0,variant:"outlined",value:(null===D||void 0===D?void 0:D.value)||"",onChange:function(e){return j(x,f,h,e.target.value)},sx:{mb:2}}),["1","8","3","4"].includes(null===D||void 0===D?void 0:D.type)&&(0,E.jsxs)($.Z,{fullWidth:!0,sx:{mb:2},children:[(0,E.jsx)(ee.Z,{children:"Select Option"}),(0,E.jsx)(ne.Z,{value:k,label:"Select Option",onChange:function(e){var n=e.target.value;I(n),y(x,f,h,n)},children:(null!==(a=null===d||void 0===d||null===(l=d.documentTypeObject)||void 0===l?void 0:l.selections)&&void 0!==a?a:[]).map((function(e,n){return(0,E.jsx)(te.Z,{value:e.name,children:e.name},n)}))})]})]}),(0,E.jsx)(ce,{data:d,questionIndex:h,questionOrder:null===D||void 0===D?void 0:D.order,onValidationChange:function(e){c(x,f,h,e[D.order])}})]})})},ue=[{id:"1",label:"TextBox"},{id:"2",label:"DescriptionBox"},{id:"3",label:"Checkbox"},{id:"4",label:"RadioButton"},{id:"6",label:"NumericBox"},{id:"7",label:"CurrencyBox"},{id:"8",label:"Dropdown"},{id:"9",label:"Date"},{id:"10",label:"Document Tag"}],xe=function(e){var n=e.onSelect;return(0,E.jsx)(E.Fragment,{children:ue.map((function(e){var t=e.id,r=e.label;return(0,E.jsx)(te.Z,{onClick:function(){return n(t)},children:r},t)}))})},pe=t(47462),fe=(0,ie.ZP)(B.Z)((function(e){e.theme;return{height:"1.5em",width:"auto",mb:2,border:"1px solid black",borderRadius:0,backgroundColor:"#fafafa",color:"black","&:hover":{backgroundImage:"f5f5f5",borderColor:"black"}}})),he=function(e){var n=e.handleSectionUpdate,t=e.selectionSelected,a=e.Data,l=e.sections,s=e.isSelected,d=e.selectedSectionIndex,u=e.handleBoxClick,x=e.handleAddNew,f=e.onSelectSection,h=e.handleDeleteSection,m=e.handleAddGroup,v=e.handleDeleteGroup,g=e.handleAddQuestion,b=e.handleDeleteQuestion,Z=e.onSelectGroup,j=e.onSelectQuestion,y=e.getTypeLabel,w=o.useState(null),S=(0,r.Z)(w,2),C=S[0],k=S[1],I=o.useState(null),D=(0,r.Z)(I,2),T=D[0],q=D[1],B=function(e,t,o,i,a){if(t!==o||i!==a){var s=(0,c.Z)(l),d=s[e].selectedGroups[t].questions,u=s[e].selectedGroups[o].questions,x=d.splice(i,1),p=(0,r.Z)(x,1)[0];u.splice(a,0,p),n(s),j(e,o,a)}};return(0,E.jsxs)(i.Z,{onClick:u,sx:{width:"30%",border:t?"2px dashed ".concat(G.q.Button1):"1px solid #ccc",padding:1,cursor:"pointer"},children:[(0,E.jsx)(p.Z,{sx:{fontSize:"1.3em",fontWeight:"bold",mb:1},children:null===a||void 0===a?void 0:a.name}),(0,E.jsx)(fe,{onClick:x,sx:{ml:"10px"},children:"Add Section"}),(0,E.jsx)(i.Z,{sx:{mt:2,overflowY:"auto",height:"90%",padding:1},children:l.length>0?l.map((function(e,t){var o;return(0,E.jsxs)(i.Z,{onClick:function(e){e.stopPropagation(),f(t)},sx:{mb:3,border:s.sectionIndex===t&&null===s.groupIndex?"2px dashed ".concat(G.q.Button1):"1px solid #ccc",padding:2,cursor:"pointer",backgroundColor:d===t?"#f0f8ff":"transparent"},children:[(0,E.jsxs)(p.Z,{sx:{fontSize:"1.2em",fontWeight:"bold",mb:2,textTransform:"capitalize",cursor:"pointer"},children:[e.sectionName,(0,E.jsx)(H.Z,{onClick:function(e){e.stopPropagation(),h(t)},size:"small",sx:{float:"right"},children:(0,E.jsx)(J.Z,{fontSize:"small"})})]}),(0,E.jsx)(fe,{onClick:function(e){e.stopPropagation(),m(t)},children:"Add Group"}),null===(o=e.selectedGroups)||void 0===o?void 0:o.map((function(e,o){return(0,E.jsxs)(i.Z,{draggable:!0,onDragStart:function(e){e.stopPropagation(),q({sectionIndex:t,groupIndex:o})},onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault(),e.stopPropagation(),C||T&&T.sectionIndex===t&&(!function(e,t,o){var i=(0,c.Z)(l),a=i[e].selectedGroups,s=a.splice(t,1),d=(0,r.Z)(s,1)[0];a.splice(o,0,d),n(i),Z(e,o)}(t,T.groupIndex,o),q(null))},onClick:function(e){e.stopPropagation(),Z(t,o)},sx:{padding:1,mb:1,mt:1,border:s.sectionIndex===t&&s.groupIndex===o&&null===s.questionIndex?"2px dashed ".concat(G.q.Button1):"1px dashed #ccc"},children:[(0,E.jsxs)(p.Z,{variant:"body2",sx:{fontWeight:"bold",cursor:"pointer",mb:1},children:[s.sectionIndex===t&&s.groupIndex===o&&(0,E.jsx)(pe.Z,{sx:{color:"#ccc",cursor:"grab",mr:1},fontSize:"small"}),e.name,(0,E.jsx)(H.Z,{onClick:function(e){e.stopPropagation(),v(t,o)},size:"small",sx:{float:"right"},children:(0,E.jsx)(J.Z,{fontSize:"small"})})]}),(0,E.jsx)(fe,{size:"small",onClick:function(e){e.stopPropagation(),g(t,o,e)},children:"Add Question"}),0===e.questions.length?(0,E.jsx)(i.Z,{onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),C&&C.sectionIndex===t&&(B(t,C.groupIndex,o,C.questionIndex,0),k(null))},sx:{border:"1px dashed #ccc",borderRadius:"6px",padding:"8px",mt:1,color:"gray",fontStyle:"italic"},children:"No questions available"}):e.questions.map((function(e,a){return(0,E.jsx)(i.Z,{draggable:!0,onDragStart:function(e){k({sectionIndex:t,groupIndex:o,questionIndex:a})},onDragOver:function(e){e.preventDefault(),e.stopPropagation()},onDrop:function(e){e.preventDefault(),C&&C.sectionIndex===t&&(C.groupIndex===o?function(e,t,o,i){if(o!==i){var a=(0,c.Z)(l),s=a[e].selectedGroups[t].questions,d=s.splice(o,1),u=(0,r.Z)(d,1)[0];s.splice(i,0,u),n(a),j(e,t,i)}}(t,o,C.questionIndex,a):B(t,C.groupIndex,o,C.questionIndex,a),k(null))},onClick:function(e){e.stopPropagation(),j(t,o,a)},sx:{display:"flex",justifyContent:"space-between",alignItems:"center",border:s.sectionIndex===t&&s.groupIndex===o&&s.questionIndex===a?"3px dashed ".concat(G.q.Button1):"1px dashed #ccc",borderRadius:"6px",padding:"8px",mt:1,cursor:"pointer"},children:(0,E.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,E.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[s.sectionIndex===t&&s.groupIndex===o&&s.questionIndex===a&&(0,E.jsx)(pe.Z,{sx:{color:"#ccc",cursor:"grab"},fontSize:"small"}),(0,E.jsx)(p.Z,{sx:{fontWeight:"bold"},children:e.label}),(0,E.jsxs)(p.Z,{variant:"caption",color:"text.secondary",children:["[",y(e.type),"]"]})]}),(0,E.jsx)(H.Z,{onClick:function(e){e.stopPropagation(),b(t,o,a)},size:"small",children:(0,E.jsx)(J.Z,{fontSize:"small"})})]})},a)}))]},o)}))]},t)})):(0,E.jsx)(p.Z,{children:"No sections available"})})]})},me=function(e){switch(e){case"1":return"TextBox";case"2":return"DescriptionBox";case"3":return"Checkbox";case"4":return"RadioButton";case"6":return"NumericBox";case"7":return"CurrencyBox";case"8":return"Dropdown";case"9":return"Date";case"10":return"Document Tag";default:return"Unknown"}},ve=function(e){var n,t=e.Data,a=e.onReload,u=(e.onClose,(0,o.useState)([])),f=(0,r.Z)(u,2),h=f[0],m=f[1],v=(0,o.useState)(null),g=(0,r.Z)(v,2),b=g[0],Z=g[1],j=(0,o.useState)(null),y=(0,r.Z)(j,2),w=y[0],S=y[1],k=(0,o.useState)(null),D=(0,r.Z)(k,2),T=D[0],q=D[1],N=(0,o.useState)(null),O=(0,r.Z)(N,2),R=O[0],z=O[1],P=(0,o.useState)(null),F=(0,r.Z)(P,2),W=F[0],V=F[1],A=(0,o.useState)({sectionIndex:null,groupIndex:null,questionIndex:null}),M=(0,r.Z)(A,2),Q=M[0],H=M[1],U=(0,o.useState)(!1),Y=(0,r.Z)(U,2),X=Y[0],J=Y[1],$=(0,o.useState)(t),ee=(0,r.Z)($,2),ne=ee[0],te=ee[1];(0,o.useEffect)((function(){var e=(null!==t&&void 0!==t&&t.documentTypeObject&&t.documentTypeObject.sections?t.documentTypeObject:L()).sections.map((function(e){var n=e.formDetails.map((function(n){var t;return{name:n.groupName,repeated:null!==(t=n.repeated)&&void 0!==t&&t,display:n.display,questions:n.form.map((function(n){var t;return{label:n.attributeName||"",description:n.attributeDescription||"",type:n.attributeType,value:(null===(t=e.initialValues)||void 0===t?void 0:t[n.order])||"",attributeName:n.attributeName,dropdownValue:n.dropdownValue||"",order:n.order}}))}}));return{sectionName:e.sectionName,selectedGroups:n,validationSchema:e.validationSchema||{},columns:e.columns}}));m(e)}),[t]);var re=function(){return h.map((function(e){var n={};e.selectedGroups.forEach((function(e){e.questions.forEach((function(e){n[e.order]=e.value||""}))}));var t={};return Object.keys(n).map(Number).sort((function(e,n){return e-n})).forEach((function(e){t[e.toString()]=n[e.toString()]})),{sectionName:e.sectionName,repeated:!1,columns:e.columns,validationSchema:e.validationSchema,formDetails:e.selectedGroups.map((function(e){var n;return{groupName:e.name,repeated:null!==(n=e.repeated)&&void 0!==n&&n,display:e.display,form:e.questions.map((function(e){return{order:e.order,attributeName:e.label,attributeDescription:e.description,attributeType:e.type}}))}}))}}))},oe=function(){var e=(0,x.Z)((0,s.Z)().mark((function e(){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={documentTypeObjectId:t.documentTypeObjectId,documentTypeObject:JSON.stringify((0,d.Z)((0,d.Z)({},t.documentTypeObject),{},{sections:re(),selections:ne.documentTypeObject.selections}))},e.prev=1,e.next=4,I.h.put("administrator/forms",{body:n});case 4:r=e.sent,l.Z.showToast(r.message,r.status?"success":"error"),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:null===a||void 0===a||a();case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return(0,E.jsxs)(i.Z,{sx:{height:"100%",width:"100%",overflow:"hidden"},children:[(0,E.jsxs)(i.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,E.jsx)(he,{Data:t,handleSectionUpdate:function(e){te((function(n){return(0,d.Z)((0,d.Z)({},n),{},{sections:e})}))},sections:h,selectionSelected:X,isSelected:Q,selectedSectionIndex:b,handleBoxClick:function(){J((function(e){return!e})),H({sectionIndex:null,groupIndex:null,questionIndex:null})},handleAddNew:function(){var e={sectionName:"Section ".concat(h.length+1),selectedGroups:[]};m((function(n){return[].concat((0,c.Z)(n),[e])}))},onSelectSection:function(e){Z(e),S(null),q(null),H({sectionIndex:e,groupIndex:null,questionIndex:null}),J(!1)},handleDeleteSection:function(e){var n=(0,c.Z)(h);n.splice(e,1),m(n)},handleAddGroup:function(e){var n=(0,c.Z)(h);n[e].selectedGroups||(n[e].selectedGroups=[]),n[e].selectedGroups.push({name:"Group ".concat(n[e].selectedGroups.length+1),questions:[]}),m(n)},handleDeleteGroup:function(e,n){var t=(0,c.Z)(h);t[e].selectedGroups.splice(n,1),m(t)},handleAddQuestion:function(e,n,t){Z(e),V(n),z(t.currentTarget)},handleDeleteQuestion:function(e,n,t){var r,o=(0,c.Z)(h),i=(0,c.Z)(null===ne||void 0===ne||null===(r=ne.documentTypeObject)||void 0===r?void 0:r.selections),a=o[e].selectedGroups[n].questions[t],l=null===a||void 0===a?void 0:a.order;o[e].selectedGroups[n].questions.splice(t,1),l&&o[e].validationSchema&&o[e].validationSchema[l]&&delete o[e].validationSchema[l],l&&i.forEach((function(e){e.questions=e.questions.filter((function(e){return e!==parseInt(l)}))})),m(o)},onSelectGroup:function(e,n){Z(e),S(n),q(null),H({sectionIndex:e,groupIndex:n,questionIndex:null}),J(!1)},onSelectQuestion:function(e,n,t){Z(e),S(n),q(t),H({sectionIndex:e,groupIndex:n,questionIndex:t}),J(!1)},getTypeLabel:me}),(0,E.jsx)(C.Z,{orientation:"vertical",flexItem:!0,sx:{height:"100%"}}),(0,E.jsxs)(i.Z,{sx:{width:"70%",padding:"16px",height:"95%"},children:[(0,E.jsxs)(i.Z,{sx:{justifyContent:"space-between",display:"flex",borderBottom:"1px solid #ccc"},children:[(0,E.jsx)(p.Z,{variant:"h6",children:"Properties"}),(0,E.jsx)(B.Z,{type:"submit",style:{marginRight:"15px"},sx:{height:"2em",marginX:"1em",borderColor:G.q.Button1,backgroundColor:G.q.Button1,color:G.q.Button2,"&:hover":{backgroundImage:G.q.B_hv1,borderColor:G.q.Button1}},onClick:oe,children:"Save"})]}),(0,E.jsxs)(i.Z,{sx:{display:"flex",height:"100%"},children:[X?(0,E.jsx)(i.Z,{sx:{width:"60%"},children:(0,E.jsx)(K,{onSelectionsChange:function(e){te((function(n){var t,r=(null===n||void 0===n||null===(t=n.documentTypeObject)||void 0===t?void 0:t.selections)||[],o=(0,c.Z)(r);return e.forEach((function(e){var n=o.findIndex((function(n){return n.name===e.name}));if(-1===n)o.push(e);else{var t=o[n],r=Array.from(new Set([].concat((0,c.Z)(t.questions),(0,c.Z)(e.questions)))),i=Array.from(new Map([].concat((0,c.Z)(t.options),(0,c.Z)(e.options)).map((function(e){return[e.id,e]}))).values());o[n]=(0,d.Z)((0,d.Z)({},t),{},{questions:r,options:i})}})),(0,d.Z)((0,d.Z)({},n),{},{documentTypeObject:(0,d.Z)((0,d.Z)({},n.documentTypeObject),{},{selections:o})})}))},initialSelections:(null===ne||void 0===ne||null===(n=ne.documentTypeObject)||void 0===n?void 0:n.selections)||[],onDeleteOption:function(e,n){var t=(0,d.Z)({},ne);t.documentTypeObject=(0,d.Z)((0,d.Z)({},ne.documentTypeObject),{},{selections:ne.documentTypeObject.selections.map((function(t){return t.name===e?(0,d.Z)((0,d.Z)({},t),{},{options:t.options.filter((function(e){return e.id!==n}))}):t}))}),te(t)}})}):(0,E.jsx)(i.Z,{sx:{paddingLeft:2,overflowY:"auto",height:"100%",padding:2,borderRadius:"8px",width:"50%"},children:(0,E.jsx)(de,{handleGroupDisplayChange:function(e,n,t){var r=(0,c.Z)(h);r[e].selectedGroups[n].display=t,m(r)},handleSectionColumnsChange:function(e,n){m((function(t){return t.map((function(t,r){return r===e?(0,d.Z)((0,d.Z)({},t),{},{columns:n}):t}))}))},handleValidationChange:function(e,n,t,r){m((function(o){var i,a,l=(0,c.Z)(o),s=l[e];if(!s)return o;var d=null===(i=s.selectedGroups)||void 0===i?void 0:i[n];if(!d)return o;var u=null===(a=d.questions)||void 0===a?void 0:a[t];if(!u)return o;var x=u.order;if(null==x)return o;s.validationSchema||(s.validationSchema={});var p=s.validationSchema[x];return null!==r&&void 0!==r&&r.trim()?s.validationSchema[x]=r:s.validationSchema[x]=p,l})),te((function(e){return(0,d.Z)((0,d.Z)({},e),{},{documentTypeObject:(0,d.Z)((0,d.Z)({},e.documentTypeObject),{},{sections:re()})})}))},sections:h,selectedSectionIndex:b,selectedGroupIndex:w,selectedQuestionIndex:T,handleSectionNameChange:function(e,n){var t=(0,c.Z)(h);t[e].sectionName=n,m(t)},handleGroupNameChange:function(e,n,t){var r=(0,c.Z)(h);r[e].selectedGroups[n].name=t,m(r)},handleGroupRepeatToggle:function(e,n,t){var r=(0,c.Z)(h);r[e].selectedGroups[n].repeated=t,m(r)},handleQuestionLabelChange:function(e,n,t,r){var o=(0,c.Z)(h);o[e].selectedGroups[n].questions[t].label=r,m(o)},handleQuestionDescriptionChange:function(e,n,t,r){var o=(0,c.Z)(h);o[e].selectedGroups[n].questions[t].description=r,m(o)},handleQuestionDefaultValueChange:function(e,n,t,r){var o=(0,c.Z)(h),i=o[e],a=i.selectedGroups[n].questions[t];a.value=r,i.initialValues||(i.initialValues={}),i.initialValues[a.order.toString()]=r,m(o)},handleQuestionDropDownChange:function(e,n,t,r){m((function(o){var i=(0,c.Z)(o);return i[e].selectedGroups[n].questions[t].dropdownValue=r,i})),te((function(o){var i=Number(h[e].selectedGroups[n].questions[t].order),a=o.documentTypeObject.selections.map((function(e){return(0,d.Z)((0,d.Z)({},e),{},{questions:e.questions.filter((function(e){return e!==i}))})})).map((function(e){if(e.name===r){var n=e.questions||[];return(0,d.Z)((0,d.Z)({},e),{},{questions:Array.from(new Set([].concat((0,c.Z)(n),[i])))})}return e}));return(0,d.Z)((0,d.Z)({},o),{},{documentTypeObject:(0,d.Z)((0,d.Z)({},o.documentTypeObject),{},{selections:a})})}))},data:ne})}),(0,E.jsx)(C.Z,{orientation:"vertical",flexItem:!0,sx:{height:"100%"}}),(0,E.jsx)(i.Z,{sx:{flex:1,paddingLeft:2,overflowY:"auto",height:"100%",padding:2,borderRadius:"8px"},children:(0,E.jsx)(i.Z,{children:(0,E.jsx)("pre",{style:{margin:0},children:JSON.stringify((0,d.Z)((0,d.Z)({},ne),{},{documentTypeObject:(0,d.Z)((0,d.Z)({},ne.documentTypeObject),{},{sections:re()})}),null,2)})})})]})]})]}),(0,E.jsx)(_.Z,{anchorEl:R,open:Boolean(R),onClose:function(){return z(null)},children:(0,E.jsx)(xe,{onSelect:function(e){if(null!==W&&null!==b){var n=(0,c.Z)(h),t=0;n.forEach((function(e){e.selectedGroups.forEach((function(e){e.questions.forEach((function(e){var n=parseInt(e.order,10);!isNaN(n)&&n>t&&(t=n)}))}))}));var r=(t+1).toString();n[b].selectedGroups[W].questions.push({label:"Question ".concat(r),description:"",type:e,value:"",order:r,attributeName:"attribute_".concat(r)}),m(n)}z(null)}})})]})},ge=t(29823),be=t(18740),Ze=t(55976),je=t(53329),ye=function(e){var n=e.currentObj,t=e.onReload,a=(e.data,(0,o.useState)(!1)),u=(0,r.Z)(a,2),f=u[0],h=u[1],m=(0,o.useState)(!1),v=(0,r.Z)(m,2),g=v[0],b=v[1],Z=(0,o.useState)(null),j=(0,r.Z)(Z,2),y=j[0],D=j[1],T=(0,o.useState)([]),q=(0,r.Z)(T,2),B=q[0],N=q[1],O=(0,o.useState)([]),R=(0,r.Z)(O,2),z=R[0],P=R[1],G=(0,o.useState)([]),F=(0,r.Z)(G,2),W=F[0],V=F[1],A=(0,o.useState)([]),_=(0,r.Z)(A,2),L=_[0],Q=_[1],U=(0,o.useState)([]),Y=(0,r.Z)(U,2),X=Y[0],J=Y[1],K=(0,o.useState)(""),$=(0,r.Z)(K,2),ee=$[0],ne=$[1],te=(0,o.useState)(""),re=(0,r.Z)(te,2),oe=re[0],ie=re[1],le=(0,o.useState)(0),se=(0,r.Z)(le,2),ce=se[0],de=se[1],ue=(0,o.useState)(5),xe=(0,r.Z)(ue,2),pe=xe[0],fe=(xe[1],(0,o.useState)(0)),he=(0,r.Z)(fe,2),me=he[0],ye=he[1],we=(0,o.useState)(5),Se=(0,r.Z)(we,2),Ce=Se[0];Se[1];(0,o.useEffect)((function(){var e=function(){var e=(0,x.Z)((0,s.Z)().mark((function e(){var t,r,o,i,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.h.get("administrator/document-types");case 3:t=e.sent,r=t.map((function(e){return(0,d.Z)({roleName:e.documentTypeName,roleNameId:e.documentTypeId,roleNameDescription:e.documentTypeDescription,documentTypeObjectId:e.documentTypeObjectId},e)})),o=r.filter((function(e){return Number(e.documentTypeObjectId)===Number(null===n||void 0===n?void 0:n.id)})),i=new Set(o.map((function(e){return e.roleNameId}))),a=r.filter((function(e){return Number(e.documentTypeObjectId)!==Number(null===n||void 0===n?void 0:n.id)&&!i.has(e.roleNameId)})),P(o),V(o),N(a),Q([]),J([]),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error fetching document types:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();null!==n&&void 0!==n&&n.id&&e()}),[n]);var ke=function(){var e=(0,x.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n&&void 0!==n&&n.id){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,I.h.get("administrator/forms/".concat(n.id));case 5:t=e.sent,D(t.data),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(2),e.t0;case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,x.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:b(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=(0,x.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke();case 2:h(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=(0,x.Z)((0,s.Z)().mark((function e(r){var o,i,a,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=!(null===n||void 0===n||!n.id),i="administrator/forms",a=o?Object.keys(r).reduce((function(e,t){return r[t]!==n[t]&&(e[t]=r[t]),e}),{documentTypeObjectId:n.id}):(0,d.Z)((0,d.Z)({},r),{},{documentTypeObject:JSON.stringify({})}),!o||1!==Object.keys(a).length){e.next=7;break}return l.Z.showToast("No changes to update.","info"),e.abrupt("return");case 7:if(!o){e.next=13;break}return e.next=10,I.h.put(i,{body:a});case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,I.h.post(i,{body:a});case 15:e.t0=e.sent;case 16:c=e.t0,l.Z.showToast(c.message,c.success?"success":"error"),null===t||void 0===t||t(),e.next=24;break;case 21:throw e.prev=21,e.t1=e.catch(0),e.t1;case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(n){return e.apply(this,arguments)}}(),qe={name:(null===n||void 0===n?void 0:n.name)||"",description:(null===n||void 0===n?void 0:n.description)||""},Be=S.Ry({name:S.Z_().required("Form name is required"),description:S.Z_().required("Description is required")}),Ne=function(){var e=(0,x.Z)((0,s.Z)().mark((function e(r,o){var i,a,c,d,u,x,p,f,h,m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("added",r),e.prev=1,0!==r.length||0!==o.length){e.next=5;break}return l.Z.showToast("No changes to submit.","info"),e.abrupt("return");case 5:i=(0,w.Z)(r),e.prev=6,i.s();case 8:if((a=i.n()).done){e.next=18;break}return c=a.value,d={documentTypeObjectId:null===n||void 0===n?void 0:n.id},console.log("Adding role payload:",d),e.next=14,I.h.put("administrator/document-types/".concat(c.roleNameId),{body:d});case 14:u=e.sent,l.Z.showToast(u.message,u.status?"success":"error");case 16:e.next=8;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),i.e(e.t0);case 23:return e.prev=23,i.f(),e.finish(23);case 26:x=(0,w.Z)(o),e.prev=27,x.s();case 29:if((p=x.n()).done){e.next=39;break}return f=p.value,h={documentTypeObjectId:-1},console.log("Removing role payload:",h),e.next=35,I.h.put("administrator/document-types/".concat(f.roleNameId),{body:h});case 35:m=e.sent,l.Z.showToast(m.message,m.status?"success":"error");case 37:e.next=29;break;case 39:e.next=44;break;case 41:e.prev=41,e.t1=e.catch(27),x.e(e.t1);case 44:return e.prev=44,x.f(),e.finish(44);case 47:null===t||void 0===t||t(),e.next=54;break;case 50:e.prev=50,e.t2=e.catch(1),l.Z.showToast("Failed to update roles.","error"),console.error(e.t2);case 54:case"end":return e.stop()}}),e,null,[[1,50],[6,20,23,26],[27,41,44,47]])})));return function(n,t){return e.apply(this,arguments)}}();return(0,E.jsx)(i.Z,{sx:{height:"100%",backgroundColor:"white",display:"flex",flexDirection:"column",overflowY:"scroll"},children:(0,E.jsxs)(i.Z,{sx:{padding:"10px"},children:[(0,E.jsx)(i.Z,{children:(0,E.jsx)(be.Z,{fields:[{name:"name",label:"Form Name",type:"string",column:1},{name:"description",label:"Description",type:"textArea",column:1}],initialValues:qe,validationSchema:Be,onSubmit:Te,columns:2,showSaveButton:!0,readOnly:!1,showHeaderComponent:!1,showPrevButton:!0,onPrvButtonClick:De,showEditButton:!0,onEditButtonClick:Ie})}),(0,E.jsx)(i.Z,{sx:{flex:1,minHeight:0},children:(0,E.jsxs)(i.Z,{sx:{border:"1px solid #ccc",flexDirection:"column",borderRadius:"8px",mt:1},children:[(0,E.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"5px 12px 3px 12px"},children:[(0,E.jsx)(p.Z,{sx:{flexGrow:1,fontWeight:"bold",fontSize:"1.1em"},children:"Select DocumentType"}),(0,E.jsx)(ae.Z,{title:"UPDATE",children:(0,E.jsx)(H.Z,{type:"submit",onClick:function(){return Ne(L,X)},sx:{padding:"10px"},children:(0,E.jsx)(je.Z,{})})})]}),(0,E.jsxs)(i.Z,{sx:{display:"flex",flex:1,flexDirection:{xs:"column",md:"row"},overflow:"hidden",minHeight:0},children:[(0,E.jsx)(i.Z,{sx:{flex:1,minHeight:0,overflow:"auto",display:"flex",flexDirection:"column"},children:(0,E.jsx)(Ze.Z,{items:B,onSearch:function(e){return ne(e.target.value)},searchValue:ee,page:ce,setPage:de,renderItemText:function(e){return e.roleName},renderItemId:function(e){return e.roleNameId},onMoveToRight:function(e){var n=B.find((function(n){return n.roleNameId===e}));n&&(N((function(n){return n.filter((function(n){return n.roleNameId!==e}))})),P((function(e){return[].concat((0,c.Z)(e),[n])})),W.some((function(n){return n.roleNameId===e}))||Q((function(e){return[].concat((0,c.Z)(e),[n])})),J((function(n){return n.filter((function(n){return n.roleNameId!==e}))})))},rowsPerPage:pe})}),(0,E.jsx)(C.Z,{orientation:"vertical",flexItem:!0,sx:{display:{xs:"none",md:"block"},borderWidth:"1.5px",marginX:"5px",my:"1px"}}),(0,E.jsx)(i.Z,{sx:{flex:1,minHeight:0,overflow:"auto",display:"flex",flexDirection:"column"},children:(0,E.jsx)(Ze.Z,{rows:25,items:z,onSearch:function(e){return ie(e.target.value)},searchValue:oe,rowsPerPage:Ce,page:me,setPage:ye,renderItemText:function(e){return e.roleName},renderItemId:function(e){return e.roleNameId},onMoveToLeft:function(e){var n=z.find((function(n){return n.roleNameId===e}));n&&(P((function(n){return n.filter((function(n){return n.roleNameId!==e}))})),N((function(e){return[].concat((0,c.Z)(e),[n])})),W.some((function(n){return n.roleNameId===e}))&&J((function(e){return[].concat((0,c.Z)(e),[n])})),Q((function(n){return n.filter((function(n){return n.roleNameId!==e}))})))}})})]})]})}),(0,E.jsx)(k.Z,{open:f,onClose:function(){return h(!1)},children:(0,E.jsxs)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,padding:"1em 2em 2em 2em",borderRadius:"8px",maxHeight:"85vh",maxWidth:"75vw",width:"75vw",height:"85vh",overflowY:"auto",display:"flex",flexDirection:"column"},children:[(0,E.jsx)(i.Z,{sx:{position:"absolute",top:"0.1em",right:"0.1em",cursor:"pointer",borderRadius:"50%",padding:"1px","&:hover":{backgroundColor:"#f5f5f5"}},onClick:function(){return h(!1)},children:(0,E.jsx)(ge.Z,{fontSize:"medium"})}),(0,E.jsx)(M,{Data:null===y||void 0===y?void 0:y.documentTypeObject,onSubmit:function(){}})]})}),(0,E.jsx)(k.Z,{open:g,onClose:function(){return b(!1)},children:(0,E.jsxs)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,padding:"1em",borderRadius:"8px",maxHeight:"85vh",width:"90%",height:"90%",overflowY:"auto",display:"flex",flexDirection:"column"},children:[(0,E.jsx)(i.Z,{sx:{position:"absolute",top:"0.25em",right:"0.35em",width:"38px",height:"38px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",borderRadius:"50%",padding:"5px","&:hover":{backgroundColor:"#f5f5f5"}},onClick:function(){return b(!1)},children:(0,E.jsx)(ge.Z,{fontSize:"medium"})}),(0,E.jsx)(ve,{Data:y,onReload:t,onClose:function(){return b(!1)}})]})})]})})},we=["documentTypeObjectId"],Se=[{id:"id",label:"ID",type:"number"},{id:"name",label:"Task Name",type:"string"},{id:"description",label:"Description",type:"string"}],Ce=function(){var e=(0,o.useState)([]),n=(0,r.Z)(e,2),t=n[0],w=n[1],S=(0,o.useState)(0),C=(0,r.Z)(S,2),k=C[0],D=C[1],T=(0,o.useState)(!1),q=(0,r.Z)(T,2),B=q[0],N=q[1],O=(0,o.useState)(!1),R=(0,r.Z)(O,2),z=R[0],P=R[1],G=(0,o.useState)([]),F=(0,r.Z)(G,2),W=F[0],V=F[1];(0,o.useEffect)((function(){M()}),[]);var A,M=function(){var e=(0,x.Z)((0,s.Z)().mark((function e(){var n,t,r,o,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.h.get("administrator/forms");case 3:if(n=e.sent,t=n.data.map((function(e){var n=e.documentTypeObjectId,t=(0,u.Z)(e,we);return(0,d.Z)({id:String(n)},t)})),r=(0,c.Z)(t),w(r),!(o=null===W||void 0===W?void 0:W.id)){e.next=13;break}if(!(i=r.find((function(e){return e.id===o})))){e.next=13;break}return V(i),e.abrupt("return");case 13:V(r[0]),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Error fetching roles:",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,x.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!1),e.prev=1,e.next=4,I.h.delete("administrator/forms/".concat(W.id),{body:{documentTypeObjectId:W.id}});case 4:e.sent,l.Z.showToast("Form deleted successfully","success"),M(),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return(0,E.jsxs)(i.Z,{sx:{height:"calc(100vh - 95px)",backgroundColor:"#fff",display:"flex",justifyContent:"center",alignItems:"center",maxHeight:"100%"},children:[(0,E.jsx)(i.Z,{sx:{width:"100%",height:"100%"},children:(0,E.jsx)(Z.P,{initialSize:.45,minSize:150,maxSize:900,left:(0,E.jsxs)("div",{style:{paddingRight:"5px",height:"100%",display:"flex",flexDirection:"column",flex:1},children:[(0,E.jsx)(g._u,{style:{height:"60px"},children:(0,E.jsx)(g.vD,{children:(0,E.jsx)(p.Z,{variant:"overline",sx:{fontSize:15,ml:"16px"},children:"Form Management"})})}),(0,E.jsx)(i.Z,{sx:{flex:1,overflow:"hidden"},children:(0,E.jsx)(b.Z,{tasks:t,columns:Se,onSelection:function(e){if(null!==e){var n=t.find((function(n){return(null===n||void 0===n?void 0:n.id)===e}));V(n)}else P(!1)},resetSelectionRowId:z,defaultHeight:"100%",filterComponent:(0,E.jsx)(y.Z,{categories:["Create Form","Delete Form"],onButtonClick:function(e){switch(e){case"Create Form":V({}),P(!0);break;case"Delete Form":W&&N(!0)}}})})})]}),right:(0,E.jsxs)("div",{style:{marginRight:"5px",height:"100%",display:"flex",flexDirection:"column",marginLeft:"4px"},children:[(0,E.jsx)(a.Z,{value:k,onChange:function(e,n){D(n)},tabs:["Details"]}),(0,E.jsx)(i.Z,{sx:{height:"100%",overflow:"hidden",mt:"5px"},children:(A=k,0===A?(0,E.jsx)(ye,{currentObj:W,onReload:M,data:t}):null)})]})})}),(0,E.jsxs)(f.Z,{open:B,onClose:function(){return N(!1)},maxWidth:"xs",fullWidth:!0,children:[(0,E.jsx)(h.Z,{children:"Confirm Deletion"}),(0,E.jsxs)(m.Z,{children:["Are you sure you want to delete role"," ",(0,E.jsx)("strong",{children:null===W||void 0===W?void 0:W.name}),"?"]}),(0,E.jsxs)(v.Z,{children:[(0,E.jsx)(j.Z,{label:"Cancel",btnType:"default",onClick:function(){return N(!1)}}),(0,E.jsx)(j.Z,{label:"Delete",btnType:"error",onClick:_})]})]})]})},ke=function(){var e=(0,o.useState)(0),n=(0,r.Z)(e,2),t=n[0],s=n[1];l.Z.loginResponse.user[0].userType;return(0,E.jsxs)("div",{style:{backgroundColor:"#ffffff",height:"calc(100vh - 95px)",maxHeight:"100%",width:"100%",display:"flex",flexDirection:"column"},children:[(0,E.jsx)(i.Z,{sx:{width:"100%"},children:(0,E.jsx)(a.Z,{value:t,onChange:function(e,n){s(n)},tabs:["Form"]})}),(0,E.jsx)(i.Z,{sx:{flex:1,width:"100%",overflow:"hidden",mt:"2px"},children:0===t?(0,E.jsx)(Ce,{}):null})]})}},99490:function(e,n,t){var r=t(1413),o=t(45987),i=(t(72791),t(94294)),a=t(91203),l=t(80184),s=["label","btnType","onClick","type"],c={success:{background:"#4CAF50",color:"white"},error:{background:"#F44336",color:"white"},warning:{background:"#FFC107",color:"black"},info:{background:"#ffa726",color:"white"},default:{background:"#2196F3",color:"white"}},d=(0,a.Z)(i.Z)((function(e){var n,t,r,o,i=e.btnType;return{backgroundColor:(null===(n=c[i])||void 0===n?void 0:n.background)||c.default.background,color:(null===(t=c[i])||void 0===t?void 0:t.color)||c.default.color,borderRadius:"6px",textTransform:"none",fontSize:"0.9rem",height:"2.2em",width:"auto","&:hover":{opacity:.8,backgroundColor:(null===(r=c[i])||void 0===r?void 0:r.background)||c.default.background,color:(null===(o=c[i])||void 0===o?void 0:o.color)||c.default.color}}}));n.Z=function(e){var n=e.label,t=e.btnType,i=void 0===t?"default":t,a=e.onClick,c=e.type,u=void 0===c?"button":c,x=(0,o.Z)(e,s);return(0,l.jsx)(d,(0,r.Z)((0,r.Z)({btnType:i,onClick:a,type:u},x),{},{children:n}))}},58833:function(e,n,t){t(72791);var r=t(94294),o=t(96873),i=t(80184);n.Z=function(e){var n=e.categories,t=e.onButtonClick;return(0,i.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"flex-end"},children:(0,i.jsx)("div",{style:{display:"inline-flex",gap:"5px",marginRight:"5px"},children:n.map((function(e){return(0,i.jsx)(r.Z,{variant:"outlined",sx:{flexGrow:1,minWidth:"auto",height:"2.2em",color:o.q.Button2,backgroundColor:o.q.Button_bg3,"&:hover":{backgroundImage:o.q.B_hv3,borderColor:o.q.Button2,backgroundColor:o.q.Button_bg3},textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"0.9em",padding:"8px"},onClick:function(){!function(e){t(e)}(e)},children:e},e)}))})})}},41561:function(e,n,t){var r,o=t(30168),i=(t(72791),t(20890)),a=t(50225),l=t(13967),s=t(697),c=t(93006),d=t(13400),u=t(82167),x=t(96873),p=t(80184),f=a.Z.div(r||(r=(0,o.Z)(["\n  background: ",";\n  padding: ",";\n  margin: ",";\n  border-radius: ",";\n  color: ",";\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); // subtle shadow for depth\n  transition: box-shadow 0.3s ease-in-out; // smooth shadow transition on hover\n  &:hover {\n    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15); // deeper shadow on hover for interactive effect\n  }\n"])),(function(e){return e.background}),(function(e){return e.padding}),(function(e){return e.margin}),(function(e){return e.borderRadius}),(function(e){return e.color}));n.Z=function(e){var n=e.title,t=(e.variant,e.background,e.padding),r=void 0===t?"10px 10px":t,o=e.margin,a=void 0===o?"0px":o,h=e.borderRadius,m=void 0===h?"0px":h,v=(e.color,e.children),g=void 0===v?(0,p.jsx)(p.Fragment,{}):v,b=e.searchEnabled,Z=e.onSearch,j=e.searchValue,y=e.TextFieldWidth,w=void 0===y?"":y,S=(0,l.Z)().palette;return(0,p.jsx)(f,{background:S.background.default,padding:r,margin:a,borderRadius:m,color:S.action.active,children:(0,p.jsxs)(s.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,p.jsx)(i.Z,{variant:"h6",fontSize:"14px",fontWeight:"bold",children:n}),g,(0,p.jsx)(s.Z,{children:b&&(0,p.jsx)(c.Z,{style:{height:"30px",width:w},variant:"filled",label:"Search",value:j,onChange:Z,InputProps:{endAdornment:(0,p.jsx)(d.Z,{sx:{color:x.q.Dg_Icon2,height:"25px",width:"25px"},children:(0,p.jsx)(u.Z,{})})},InputLabelProps:{sx:{color:x.q.Button2,"&.Mui-focused":{color:x.q.Button2}}},sx:{backgroundColor:x.q.Button_bg4,"& .MuiInputBase-input":{height:5},"& .MuiInputBase-root":{backgroundColor:x.q.Button_bg3},"&:hover .MuiInputBase-root":{backgroundImage:x.q.B_hv3}}})})]})})}},87123:function(e,n,t){t.d(n,{D:function(){return N}});var r=t(72791),o=t(697),i=t(20890),a=t(92506),l=t(19125),s=t(679),c=t(93433),d=t(68096),u=t(79012),x=t(85523),p=t(94454),f=t(80184),h=function(e){var n=e.field,t=e.form,r=t.touched,o=t.errors,i=t.setFieldValue,a=(t.handleChange,e.label,e.options);console.log(a);var l=function(e){var t=e.target.value,r=e.target.checked,o=[];if(n.value&&(o=(0,c.Z)(n.value)),r)o.push(t);else{var a=o.indexOf(t);a>-1&&o.splice(a,1)}i(n.name,o)};return(0,f.jsxs)(d.Z,{component:"fieldset",error:r[n.name]&&Boolean(o[n.name]),fullWidth:!0,children:[(0,f.jsx)(u.Z,{style:{flexDirection:"row",flexWrap:"wrap"},children:a.map((function(e){var t;return(0,f.jsx)(x.Z,{control:(0,f.jsx)(p.Z,{value:e.name,onChange:l,checked:null!==(t=n.value&&n.value.includes(e.name))&&void 0!==t&&t}),label:e.name},e.name)}))}),r[n.name]&&o[n.name]&&(0,f.jsx)("div",{style:{color:"red"},children:o[n.name]})]})},m=t(1413),v=t(38289),g=t(61419),b=t(96873),Z=function(e){var n=e.field,t=e.form,r=t.touched,o=t.errors,i=(e.label,e.options);return(0,f.jsxs)(d.Z,{component:"fieldset",error:r[n.name]&&Boolean(o[n.name]),fullWidth:!0,children:[(0,f.jsx)(d.Z,{component:"fieldset",variant:"filled",children:(0,f.jsx)(v.Z,(0,m.Z)((0,m.Z)({},n),{},{value:n.value||"",style:{flexDirection:"row",flexWrap:"wrap"},children:i.map((function(e,n){return(0,f.jsx)(x.Z,{value:e.name,control:(0,f.jsx)(g.Z,{sx:{"&.Mui-checked":{color:b.q.RB_Selected2}}}),label:e.name},n)}))}))}),r[n.name]&&o[n.name]&&(0,f.jsx)("div",{style:{color:"red"},children:o[n.name]})]})},j=t(29439),y=t(94294),w=t(61889),S=t(92810),C=function(e){var n,t=e.field,a=e.form.setFieldValue,l=(0,r.useState)(!1),s=(0,j.Z)(l,2),c=s[0],d=s[1],u=(0,r.useState)((0,S.Z)()),x=(0,j.Z)(u,1)[0];return(0,f.jsxs)("div",{children:[(0,f.jsx)("input",{accept:"image/*,.pdf",style:{display:"none"},id:x,multiple:!0,type:"file",onChange:function(e){var n=e.target.files;n&&(a(t.name,Array.from(n)),d(!0))}}),(0,f.jsx)("label",{htmlFor:x,children:(0,f.jsx)(y.Z,{variant:"outlined",component:"span",sx:{"&:hover":{borderColor:b.q.UP_Button_Border,color:b.q.UP_Button1}},children:"Upload"})}),c&&(0,f.jsx)(o.Z,{mt:2,children:(0,f.jsx)(w.ZP,{container:!0,spacing:2,children:null===(n=t.value)||void 0===n?void 0:n.map((function(e,n){return(0,f.jsx)(w.ZP,{item:!0,children:(0,f.jsx)(o.Z,{sx:{border:"1px solid #000",padding:1,minWidth:100,minHeight:30,display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){return function(e){window.open(URL.createObjectURL(e),"_blank")}(e)},children:(0,f.jsx)(y.Z,{sx:{padding:0},children:(0,f.jsx)(i.Z,{variant:"body2",color:"black",children:e.name})})})},n)}))})})]})},k=t(24272),I=t(88918),D=t(45987),T=["field","form"],q=function(e){var n=e.field,t=e.form,r=(0,D.Z)(e,T);return(0,f.jsx)(o.Z,{sx:{display:"inline-flex",flexDirection:"column",width:"100%",border:"1px solid #bdbdbd",borderRadius:"4px",overflow:"hidden","&:hover":{borderColor:b.q.InputBorder2},"&:focus-within":{borderColor:b.q.InputBorder2}},children:(0,f.jsx)("input",(0,m.Z)((0,m.Z)((0,m.Z)({type:"date"},n),r),{},{onChange:function(e){var r=e.target.value;t.setFieldValue(n.name,r)},style:{width:"100%",padding:"10px 12px",fontFamily:"Inter, sans-serif",border:"none",outline:"none",color:"black",backgroundColor:"transparent",boxSizing:"border-box"}}))})},B=function(e){var n=e.field,t=e.form,r=t.touched,o=t.errors,a=t.setFieldValue,l=e.label,s=e.options,c=e.onChange,d=e.selectedValue;return(0,f.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,f.jsx)(i.Z,{variant:"subtitle2",align:"left",gutterBottom:!0,children:l}),(0,f.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5em"},children:s.map((function(e){return(0,f.jsx)("button",{type:"button",onClick:function(){return t=e.name,r=e.id,void(n.value!==t&&(a(n.name,t),c({name:t,id:r})));var t,r},style:{padding:"7px 14px",border:"2px solid ".concat(d===e.name?"#333":"#ccc"),backgroundColor:d===e.name?"#e0e0e0":"#f9f9f9",transition:"background-color 0.3s, border-color 0.3s",color:d===e.name?"#333":"#000",cursor:"pointer",borderRadius:"4px",fontSize:"14px",display:"flex",alignItems:"center"},children:e.name},e.id)}))}),r[n.name]&&o[n.name]&&(0,f.jsx)("div",{style:{color:"red",marginTop:"8px"},children:o[n.name]})]})},N=function(e,n,t,r,c,d,u){var x;if(e.trigger&&!function(n){var t;if(!n)return!0;var o=r[n.compareId];return(null===(t=e.trigger)||void 0===t?void 0:t.value.split(",")).includes(o)}(e.trigger))return null;switch(+e.attributeType){case 1:return(0,f.jsxs)(o.Z,{marginBottom:2,children:[(0,f.jsx)(i.Z,{variant:"caption",align:"left",gutterBottom:!0,style:{fontSize:"0.60rem",color:"#6b6b6b"},children:e.attributeDescription}),(0,f.jsx)(a.gN,{name:e.order,label:e.attributeName,component:l.Z}),c[e.order]&&(0,f.jsx)(i.Z,{variant:"caption",color:"error",children:(0,f.jsx)(a.Bc,{name:e.order})})]},e.order);case 2:return(0,f.jsxs)(o.Z,{marginBottom:2,children:[(0,f.jsx)(i.Z,{variant:"caption",align:"left",gutterBottom:!0,style:{fontSize:"0.60rem",color:"#6b6b6b"},children:e.attributeName}),(0,f.jsx)(a.gN,{name:e.order,label:e.attributeDescription,component:s.Z}),c[e.order]&&(0,f.jsx)(i.Z,{variant:"caption",color:"error",children:(0,f.jsx)(a.Bc,{name:e.order})})]},e.order);case 3:return(0,f.jsxs)(o.Z,{marginBottom:2,children:[(0,f.jsx)(i.Z,{variant:"caption",align:"left",gutterBottom:!0,style:{fontSize:"0.60rem",color:"#6b6b6b"},children:e.attributeName}),(0,f.jsx)(a.gN,{name:e.order,label:e.attributeDescription,options:d(e.order),component:h}),c[e.order]&&(0,f.jsx)(i.Z,{variant:"caption",color:"error",children:(0,f.jsx)(a.Bc,{name:e.order})})]},e.order);case 4:return(0,f.jsxs)(o.Z,{marginBottom:2,children:[(0,f.jsx)(i.Z,{variant:"caption",align:"left",gutterBottom:!0,style:{fontSize:"0.60rem",color:"#6b6b6b"},children:e.attributeName}),(0,f.jsx)(a.gN,{name:e.order,label:e.attributeDescription,options:d(e.order),component:Z}),c[e.order]&&(0,f.jsx)(i.Z,{variant:"caption",color:"error",children:(0,f.jsx)(a.Bc,{name:e.order})})]},e.order);case 5:return(0,f.jsxs)(o.Z,{marginBottom:2,flexDirection:"row",children:[(0,f.jsx)(i.Z,{variant:"caption",align:"left",gutterBottom:!0,style:{fontSize:"0.60rem",color:"#6b6b6b"},children:e.attributeName}),(0,f.jsx)(a.gN,{name:e.order,label:e.attributeDescription,component:C},e.order),c[e.order]&&(0,f.jsx)(i.Z,{variant:"caption",color:"error",children:(0,f.jsx)(a.Bc,{name:e.order})})]},e.order);case 6:return(0,f.jsxs)(o.Z,{marginBottom:2,children:[(0,f.jsx)(i.Z,{variant:"caption",align:"left",gutterBottom:!0,style:{fontSize:"0.60rem",color:"#6b6b6b"},children:e.attributeName}),(0,f.jsx)(a.gN,{name:e.order,label:e.attributeDescription,component:k.Z}),c[e.order]&&(0,f.jsx)(i.Z,{variant:"caption",color:"error",children:(0,f.jsx)(a.Bc,{name:e.order})})]},e.order);case 8:return(0,f.jsxs)(o.Z,{marginBottom:2,flexDirection:"row",children:[(0,f.jsx)(i.Z,{variant:"caption",align:"left",gutterBottom:!0,style:{fontSize:"0.60rem",color:"#6b6b6b"},children:e.attributeName}),(0,f.jsx)(a.gN,{name:e.order,label:e.attributeDescription,options:d(e.order),component:I.Z},e.order),c[e.order]&&(0,f.jsx)(i.Z,{variant:"caption",color:"error",children:(0,f.jsx)(a.Bc,{name:e.order})})]},e.order);case 9:return(0,f.jsxs)(o.Z,{marginBottom:2,flexDirection:"column",children:[(0,f.jsx)(i.Z,{variant:"caption",align:"left",gutterBottom:!0,style:{fontSize:"0.60rem",color:"#6b6b6b"},children:e.attributeName}),(0,f.jsx)("br",{}),(0,f.jsx)(a.gN,{name:e.order,label:e.attributeDescription,component:q},e.order),c[e.order]&&(0,f.jsx)(i.Z,{variant:"caption",color:"error",children:(0,f.jsx)(a.Bc,{name:e.order})})]},e.order);case 10:return(0,f.jsxs)(o.Z,{marginBottom:2,flexDirection:"row",children:[(0,f.jsx)(a.gN,{name:e.order,label:e.attributeDescription,options:d(e.order),component:B,selectedValue:null!==(x=r[e.order])&&void 0!==x?x:"",onChange:function(n){!function(e,n){t({target:{name:n,value:e.id}})}(n,e.attributeName)}},e.order),c[e.order]&&(0,f.jsx)(i.Z,{variant:"caption",color:"error",children:(0,f.jsx)(a.Bc,{name:e.order})})]},e.order);default:return null}}},55976:function(e,n,t){var r=t(29439),o=t(72791),i=t(697),a=t(90493),l=t(84852),s=t(49900),c=t(63033),d=t(42419),u=t(5397),x=t(41561),p=t(80184);n.Z=function(e){var n=e.items,t=e.onSearch,f=e.searchValue,h=e.onMoveToLeft,m=e.onMoveToRight,v=e.page,g=e.setPage,b=e.renderItemText,Z=e.renderItemId,j=e.Headertitle,y=e.rows,w=void 0===y?25:y,S=(0,o.useState)(w),C=(0,r.Z)(S,2),k=C[0],I=C[1],D=n.filter((function(e){return b(e).toLowerCase().includes(f.toLowerCase())})).slice(v*k,v*k+k);return(0,p.jsxs)(i.Z,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,p.jsx)(i.Z,{sx:{width:"100%"},children:(0,p.jsx)(x.Z,{title:j,searchEnabled:!0,onSearch:t,searchValue:f,TextFieldWidth:"170px"})}),(0,p.jsx)(i.Z,{sx:{flex:1,overflowY:"auto",paddingX:"10px"},children:(0,p.jsx)(a.Z,{children:D.map((function(e){return(0,p.jsxs)(l.ZP,{divider:!0,children:[(0,p.jsx)(s.Z,{primary:b(e),sx:{"& .MuiTypography-root":{fontSize:"0.78rem",whiteSpace:"normal",wordWrap:"break-word"}}}),m&&(0,p.jsx)(i.Z,{sx:{borderRadius:"50%",border:"1px solid #e0e0e0",height:"30px",width:"30px",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{backgroundColor:"#eeeeee"},cursor:"pointer"},onClick:function(){return m(e.roleNameId)},children:(0,p.jsx)(d.Z,{sx:{height:"20px",width:"20px"}})}),h&&(0,p.jsx)(i.Z,{sx:{borderRadius:"50%",border:"1px solid #e0e0e0",height:"30px",width:"30px",display:"flex",justifyContent:"center",alignItems:"center","&:hover":{backgroundColor:"#eeeeee"},cursor:"pointer"},onClick:function(){return h(e.roleNameId)},children:(0,p.jsx)(u.Z,{sx:{height:"20px",width:"20px"}})})]},Z(e))}))})}),(0,p.jsx)(i.Z,{sx:{marginTop:"auto"},children:(0,p.jsx)(c.Z,{sx:{width:"100%",boxSizing:"border-box",borderTop:"1px solid  #e0e0e0",padding:0,"& .MuiToolbar-root":{width:"100%",paddingLeft:0,paddingRight:0,display:"flex",justifyContent:"space-between"},"& .MuiTablePagination-selectLabel":{margin:0},"& .MuiTablePagination-select":{margin:0,padding:0},"& .MuiTablePagination-displayedRows":{margin:0},"& .MuiTablePagination-actions":{margin:0,padding:0}},rowsPerPageOptions:[25,50,100],component:"div",count:n.length,rowsPerPage:k,page:v,onPageChange:function(e,n){g(n)},onRowsPerPageChange:function(e){I(parseInt(e.target.value,10))},labelRowsPerPage:"Rows :"})})]})}}}]);
//# sourceMappingURL=3715.f90e4ab0.chunk.js.map